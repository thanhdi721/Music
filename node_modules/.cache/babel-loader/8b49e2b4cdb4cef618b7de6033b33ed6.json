{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\"; // ================================== Cache ==================================\n\nexport function sameDerivativeOption(left, right) {\n  if (left.length !== right.length) {\n    return false;\n  }\n\n  for (var i = 0; i < left.length; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nvar ThemeCache = /*#__PURE__*/function () {\n  function ThemeCache() {\n    _classCallCheck(this, ThemeCache);\n\n    _defineProperty(this, \"cache\", void 0);\n\n    _defineProperty(this, \"keys\", void 0);\n\n    _defineProperty(this, \"cacheCallTimes\", void 0);\n\n    this.cache = new Map();\n    this.keys = [];\n    this.cacheCallTimes = 0;\n  }\n\n  _createClass(ThemeCache, [{\n    key: \"size\",\n    value: function size() {\n      return this.keys.length;\n    }\n  }, {\n    key: \"internalGet\",\n    value: function internalGet(derivativeOption) {\n      var _cache2, _cache3;\n\n      var updateCallTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var cache = {\n        map: this.cache\n      };\n      derivativeOption.forEach(function (derivative) {\n        if (!cache) {\n          cache = undefined;\n        } else {\n          var _cache;\n\n          cache = (_cache = cache) === null || _cache === void 0 || (_cache = _cache.map) === null || _cache === void 0 ? void 0 : _cache.get(derivative);\n        }\n      });\n\n      if ((_cache2 = cache) !== null && _cache2 !== void 0 && _cache2.value && updateCallTimes) {\n        cache.value[1] = this.cacheCallTimes++;\n      }\n\n      return (_cache3 = cache) === null || _cache3 === void 0 ? void 0 : _cache3.value;\n    }\n  }, {\n    key: \"get\",\n    value: function get(derivativeOption) {\n      var _this$internalGet;\n\n      return (_this$internalGet = this.internalGet(derivativeOption, true)) === null || _this$internalGet === void 0 ? void 0 : _this$internalGet[0];\n    }\n  }, {\n    key: \"has\",\n    value: function has(derivativeOption) {\n      return !!this.internalGet(derivativeOption);\n    }\n  }, {\n    key: \"set\",\n    value: function set(derivativeOption, value) {\n      var _this = this; // New cache\n\n\n      if (!this.has(derivativeOption)) {\n        if (this.size() + 1 > ThemeCache.MAX_CACHE_SIZE + ThemeCache.MAX_CACHE_OFFSET) {\n          var _this$keys$reduce = this.keys.reduce(function (result, key) {\n            var _result = _slicedToArray(result, 2),\n                callTimes = _result[1];\n\n            if (_this.internalGet(key)[1] < callTimes) {\n              return [key, _this.internalGet(key)[1]];\n            }\n\n            return result;\n          }, [this.keys[0], this.cacheCallTimes]),\n              _this$keys$reduce2 = _slicedToArray(_this$keys$reduce, 1),\n              targetKey = _this$keys$reduce2[0];\n\n          this.delete(targetKey);\n        }\n\n        this.keys.push(derivativeOption);\n      }\n\n      var cache = this.cache;\n      derivativeOption.forEach(function (derivative, index) {\n        if (index === derivativeOption.length - 1) {\n          cache.set(derivative, {\n            value: [value, _this.cacheCallTimes++]\n          });\n        } else {\n          var cacheValue = cache.get(derivative);\n\n          if (!cacheValue) {\n            cache.set(derivative, {\n              map: new Map()\n            });\n          } else if (!cacheValue.map) {\n            cacheValue.map = new Map();\n          }\n\n          cache = cache.get(derivative).map;\n        }\n      });\n    }\n  }, {\n    key: \"deleteByPath\",\n    value: function deleteByPath(currentCache, derivatives) {\n      var cache = currentCache.get(derivatives[0]);\n\n      if (derivatives.length === 1) {\n        var _cache$value;\n\n        if (!cache.map) {\n          currentCache.delete(derivatives[0]);\n        } else {\n          currentCache.set(derivatives[0], {\n            map: cache.map\n          });\n        }\n\n        return (_cache$value = cache.value) === null || _cache$value === void 0 ? void 0 : _cache$value[0];\n      }\n\n      var result = this.deleteByPath(cache.map, derivatives.slice(1));\n\n      if ((!cache.map || cache.map.size === 0) && !cache.value) {\n        currentCache.delete(derivatives[0]);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(derivativeOption) {\n      // If cache exists\n      if (this.has(derivativeOption)) {\n        this.keys = this.keys.filter(function (item) {\n          return !sameDerivativeOption(item, derivativeOption);\n        });\n        return this.deleteByPath(this.cache, derivativeOption);\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return ThemeCache;\n}();\n\n_defineProperty(ThemeCache, \"MAX_CACHE_SIZE\", 20);\n\n_defineProperty(ThemeCache, \"MAX_CACHE_OFFSET\", 5);\n\nexport { ThemeCache as default };","map":{"version":3,"sources":["D:/WED/SpotifyProject-master/node_modules/@ant-design/cssinjs/es/theme/ThemeCache.js"],"names":["_slicedToArray","_classCallCheck","_createClass","_defineProperty","sameDerivativeOption","left","right","length","i","ThemeCache","cache","Map","keys","cacheCallTimes","key","value","size","internalGet","derivativeOption","_cache2","_cache3","updateCallTimes","arguments","undefined","map","forEach","derivative","_cache","get","_this$internalGet","has","set","_this","MAX_CACHE_SIZE","MAX_CACHE_OFFSET","_this$keys$reduce","reduce","result","_result","callTimes","_this$keys$reduce2","targetKey","delete","push","index","cacheValue","deleteByPath","currentCache","derivatives","_cache$value","slice","_delete","filter","item","default"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// ================================== Cache ==================================\n\nexport function sameDerivativeOption(left, right) {\n  if (left.length !== right.length) {\n    return false;\n  }\n  for (var i = 0; i < left.length; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nvar ThemeCache = /*#__PURE__*/function () {\n  function ThemeCache() {\n    _classCallCheck(this, ThemeCache);\n    _defineProperty(this, \"cache\", void 0);\n    _defineProperty(this, \"keys\", void 0);\n    _defineProperty(this, \"cacheCallTimes\", void 0);\n    this.cache = new Map();\n    this.keys = [];\n    this.cacheCallTimes = 0;\n  }\n  _createClass(ThemeCache, [{\n    key: \"size\",\n    value: function size() {\n      return this.keys.length;\n    }\n  }, {\n    key: \"internalGet\",\n    value: function internalGet(derivativeOption) {\n      var _cache2, _cache3;\n      var updateCallTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var cache = {\n        map: this.cache\n      };\n      derivativeOption.forEach(function (derivative) {\n        if (!cache) {\n          cache = undefined;\n        } else {\n          var _cache;\n          cache = (_cache = cache) === null || _cache === void 0 || (_cache = _cache.map) === null || _cache === void 0 ? void 0 : _cache.get(derivative);\n        }\n      });\n      if ((_cache2 = cache) !== null && _cache2 !== void 0 && _cache2.value && updateCallTimes) {\n        cache.value[1] = this.cacheCallTimes++;\n      }\n      return (_cache3 = cache) === null || _cache3 === void 0 ? void 0 : _cache3.value;\n    }\n  }, {\n    key: \"get\",\n    value: function get(derivativeOption) {\n      var _this$internalGet;\n      return (_this$internalGet = this.internalGet(derivativeOption, true)) === null || _this$internalGet === void 0 ? void 0 : _this$internalGet[0];\n    }\n  }, {\n    key: \"has\",\n    value: function has(derivativeOption) {\n      return !!this.internalGet(derivativeOption);\n    }\n  }, {\n    key: \"set\",\n    value: function set(derivativeOption, value) {\n      var _this = this;\n      // New cache\n      if (!this.has(derivativeOption)) {\n        if (this.size() + 1 > ThemeCache.MAX_CACHE_SIZE + ThemeCache.MAX_CACHE_OFFSET) {\n          var _this$keys$reduce = this.keys.reduce(function (result, key) {\n              var _result = _slicedToArray(result, 2),\n                callTimes = _result[1];\n              if (_this.internalGet(key)[1] < callTimes) {\n                return [key, _this.internalGet(key)[1]];\n              }\n              return result;\n            }, [this.keys[0], this.cacheCallTimes]),\n            _this$keys$reduce2 = _slicedToArray(_this$keys$reduce, 1),\n            targetKey = _this$keys$reduce2[0];\n          this.delete(targetKey);\n        }\n        this.keys.push(derivativeOption);\n      }\n      var cache = this.cache;\n      derivativeOption.forEach(function (derivative, index) {\n        if (index === derivativeOption.length - 1) {\n          cache.set(derivative, {\n            value: [value, _this.cacheCallTimes++]\n          });\n        } else {\n          var cacheValue = cache.get(derivative);\n          if (!cacheValue) {\n            cache.set(derivative, {\n              map: new Map()\n            });\n          } else if (!cacheValue.map) {\n            cacheValue.map = new Map();\n          }\n          cache = cache.get(derivative).map;\n        }\n      });\n    }\n  }, {\n    key: \"deleteByPath\",\n    value: function deleteByPath(currentCache, derivatives) {\n      var cache = currentCache.get(derivatives[0]);\n      if (derivatives.length === 1) {\n        var _cache$value;\n        if (!cache.map) {\n          currentCache.delete(derivatives[0]);\n        } else {\n          currentCache.set(derivatives[0], {\n            map: cache.map\n          });\n        }\n        return (_cache$value = cache.value) === null || _cache$value === void 0 ? void 0 : _cache$value[0];\n      }\n      var result = this.deleteByPath(cache.map, derivatives.slice(1));\n      if ((!cache.map || cache.map.size === 0) && !cache.value) {\n        currentCache.delete(derivatives[0]);\n      }\n      return result;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(derivativeOption) {\n      // If cache exists\n      if (this.has(derivativeOption)) {\n        this.keys = this.keys.filter(function (item) {\n          return !sameDerivativeOption(item, derivativeOption);\n        });\n        return this.deleteByPath(this.cache, derivativeOption);\n      }\n      return undefined;\n    }\n  }]);\n  return ThemeCache;\n}();\n_defineProperty(ThemeCache, \"MAX_CACHE_SIZE\", 20);\n_defineProperty(ThemeCache, \"MAX_CACHE_OFFSET\", 5);\nexport { ThemeCache as default };"]},"metadata":{},"sourceType":"module"}