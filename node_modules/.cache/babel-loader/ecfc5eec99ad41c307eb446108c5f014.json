{"ast":null,"code":"/* eslint-disable max-classes-per-file */\nimport BigIntDecimal from \"./BigIntDecimal\";\nimport NumberDecimal from \"./NumberDecimal\";\nimport { trimNumber } from \"./numberUtil\";\nimport { supportBigInt } from \"./supportUtil\"; // Still support origin export\n\nexport { NumberDecimal, BigIntDecimal };\nexport default function getMiniDecimal(value) {\n  // We use BigInt here.\n  // Will fallback to Number if not support.\n  if (supportBigInt()) {\n    return new BigIntDecimal(value);\n  }\n\n  return new NumberDecimal(value);\n}\n/**\n * Align the logic of toFixed to around like 1.5 => 2.\n * If set `cutOnly`, will just remove the over decimal part.\n */\n\nexport function toFixed(numStr, separatorStr, precision) {\n  var cutOnly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  if (numStr === '') {\n    return '';\n  }\n\n  var _trimNumber = trimNumber(numStr),\n      negativeStr = _trimNumber.negativeStr,\n      integerStr = _trimNumber.integerStr,\n      decimalStr = _trimNumber.decimalStr;\n\n  var precisionDecimalStr = \"\".concat(separatorStr).concat(decimalStr);\n  var numberWithoutDecimal = \"\".concat(negativeStr).concat(integerStr);\n\n  if (precision >= 0) {\n    // We will get last + 1 number to check if need advanced number\n    var advancedNum = Number(decimalStr[precision]);\n\n    if (advancedNum >= 5 && !cutOnly) {\n      var advancedDecimal = getMiniDecimal(numStr).add(\"\".concat(negativeStr, \"0.\").concat('0'.repeat(precision)).concat(10 - advancedNum));\n      return toFixed(advancedDecimal.toString(), separatorStr, precision, cutOnly);\n    }\n\n    if (precision === 0) {\n      return numberWithoutDecimal;\n    }\n\n    return \"\".concat(numberWithoutDecimal).concat(separatorStr).concat(decimalStr.padEnd(precision, '0').slice(0, precision));\n  }\n\n  if (precisionDecimalStr === '.0') {\n    return numberWithoutDecimal;\n  }\n\n  return \"\".concat(numberWithoutDecimal).concat(precisionDecimalStr);\n}","map":{"version":3,"sources":["D:/WED/SpotifyProject-master/node_modules/@rc-component/mini-decimal/es/MiniDecimal.js"],"names":["BigIntDecimal","NumberDecimal","trimNumber","supportBigInt","getMiniDecimal","value","toFixed","numStr","separatorStr","precision","cutOnly","arguments","length","undefined","_trimNumber","negativeStr","integerStr","decimalStr","precisionDecimalStr","concat","numberWithoutDecimal","advancedNum","Number","advancedDecimal","add","repeat","toString","padEnd","slice"],"mappings":"AAAA;AAEA,OAAOA,aAAP,MAA0B,iBAA1B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,aAAT,QAA8B,eAA9B,C,CAEA;;AACA,SAASF,aAAT,EAAwBD,aAAxB;AACA,eAAe,SAASI,cAAT,CAAwBC,KAAxB,EAA+B;AAC5C;AACA;AACA,MAAIF,aAAa,EAAjB,EAAqB;AACnB,WAAO,IAAIH,aAAJ,CAAkBK,KAAlB,CAAP;AACD;;AACD,SAAO,IAAIJ,aAAJ,CAAkBI,KAAlB,CAAP;AACD;AAED;AACA;AACA;AACA;;AACA,OAAO,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,YAAzB,EAAuCC,SAAvC,EAAkD;AACvD,MAAIC,OAAO,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAlF;;AACA,MAAIJ,MAAM,KAAK,EAAf,EAAmB;AACjB,WAAO,EAAP;AACD;;AACD,MAAIO,WAAW,GAAGZ,UAAU,CAACK,MAAD,CAA5B;AAAA,MACEQ,WAAW,GAAGD,WAAW,CAACC,WAD5B;AAAA,MAEEC,UAAU,GAAGF,WAAW,CAACE,UAF3B;AAAA,MAGEC,UAAU,GAAGH,WAAW,CAACG,UAH3B;;AAIA,MAAIC,mBAAmB,GAAG,GAAGC,MAAH,CAAUX,YAAV,EAAwBW,MAAxB,CAA+BF,UAA/B,CAA1B;AACA,MAAIG,oBAAoB,GAAG,GAAGD,MAAH,CAAUJ,WAAV,EAAuBI,MAAvB,CAA8BH,UAA9B,CAA3B;;AACA,MAAIP,SAAS,IAAI,CAAjB,EAAoB;AAClB;AACA,QAAIY,WAAW,GAAGC,MAAM,CAACL,UAAU,CAACR,SAAD,CAAX,CAAxB;;AACA,QAAIY,WAAW,IAAI,CAAf,IAAoB,CAACX,OAAzB,EAAkC;AAChC,UAAIa,eAAe,GAAGnB,cAAc,CAACG,MAAD,CAAd,CAAuBiB,GAAvB,CAA2B,GAAGL,MAAH,CAAUJ,WAAV,EAAuB,IAAvB,EAA6BI,MAA7B,CAAoC,IAAIM,MAAJ,CAAWhB,SAAX,CAApC,EAA2DU,MAA3D,CAAkE,KAAKE,WAAvE,CAA3B,CAAtB;AACA,aAAOf,OAAO,CAACiB,eAAe,CAACG,QAAhB,EAAD,EAA6BlB,YAA7B,EAA2CC,SAA3C,EAAsDC,OAAtD,CAAd;AACD;;AACD,QAAID,SAAS,KAAK,CAAlB,EAAqB;AACnB,aAAOW,oBAAP;AACD;;AACD,WAAO,GAAGD,MAAH,CAAUC,oBAAV,EAAgCD,MAAhC,CAAuCX,YAAvC,EAAqDW,MAArD,CAA4DF,UAAU,CAACU,MAAX,CAAkBlB,SAAlB,EAA6B,GAA7B,EAAkCmB,KAAlC,CAAwC,CAAxC,EAA2CnB,SAA3C,CAA5D,CAAP;AACD;;AACD,MAAIS,mBAAmB,KAAK,IAA5B,EAAkC;AAChC,WAAOE,oBAAP;AACD;;AACD,SAAO,GAAGD,MAAH,CAAUC,oBAAV,EAAgCD,MAAhC,CAAuCD,mBAAvC,CAAP;AACD","sourcesContent":["/* eslint-disable max-classes-per-file */\n\nimport BigIntDecimal from \"./BigIntDecimal\";\nimport NumberDecimal from \"./NumberDecimal\";\nimport { trimNumber } from \"./numberUtil\";\nimport { supportBigInt } from \"./supportUtil\";\n\n// Still support origin export\nexport { NumberDecimal, BigIntDecimal };\nexport default function getMiniDecimal(value) {\n  // We use BigInt here.\n  // Will fallback to Number if not support.\n  if (supportBigInt()) {\n    return new BigIntDecimal(value);\n  }\n  return new NumberDecimal(value);\n}\n\n/**\n * Align the logic of toFixed to around like 1.5 => 2.\n * If set `cutOnly`, will just remove the over decimal part.\n */\nexport function toFixed(numStr, separatorStr, precision) {\n  var cutOnly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (numStr === '') {\n    return '';\n  }\n  var _trimNumber = trimNumber(numStr),\n    negativeStr = _trimNumber.negativeStr,\n    integerStr = _trimNumber.integerStr,\n    decimalStr = _trimNumber.decimalStr;\n  var precisionDecimalStr = \"\".concat(separatorStr).concat(decimalStr);\n  var numberWithoutDecimal = \"\".concat(negativeStr).concat(integerStr);\n  if (precision >= 0) {\n    // We will get last + 1 number to check if need advanced number\n    var advancedNum = Number(decimalStr[precision]);\n    if (advancedNum >= 5 && !cutOnly) {\n      var advancedDecimal = getMiniDecimal(numStr).add(\"\".concat(negativeStr, \"0.\").concat('0'.repeat(precision)).concat(10 - advancedNum));\n      return toFixed(advancedDecimal.toString(), separatorStr, precision, cutOnly);\n    }\n    if (precision === 0) {\n      return numberWithoutDecimal;\n    }\n    return \"\".concat(numberWithoutDecimal).concat(separatorStr).concat(decimalStr.padEnd(precision, '0').slice(0, precision));\n  }\n  if (precisionDecimalStr === '.0') {\n    return numberWithoutDecimal;\n  }\n  return \"\".concat(numberWithoutDecimal).concat(precisionDecimalStr);\n}"]},"metadata":{},"sourceType":"module"}