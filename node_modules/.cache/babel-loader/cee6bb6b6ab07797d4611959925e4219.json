{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"id\", \"mode\", \"prefixCls\", \"backfill\", \"fieldNames\", \"inputValue\", \"searchValue\", \"onSearch\", \"autoClearSearchValue\", \"onSelect\", \"onDeselect\", \"dropdownMatchSelectWidth\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"optionLabelProp\", \"options\", \"optionRender\", \"children\", \"defaultActiveFirstOption\", \"menuItemSelectedIcon\", \"virtual\", \"direction\", \"listHeight\", \"listItemHeight\", \"labelRender\", \"value\", \"defaultValue\", \"labelInValue\", \"onChange\", \"maxCount\"];\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n *\n * New api:\n * - listHeight\n * - listItemHeight\n * - component\n *\n * Remove deprecated api:\n * - multiple\n * - tags\n * - combobox\n * - firstActiveValue\n * - dropdownMenuStyle\n * - openClassName (Not list in api)\n *\n * Update:\n * - `backfill` only support `combobox` mode\n * - `combobox` mode not support `labelInValue` since it's meaningless\n * - `getInputElement` only support `combobox` mode\n * - `onChange` return OptionData instead of ReactNode\n * - `filterOption` `onChange` `onSelect` accept OptionData instead of ReactNode\n * - `combobox` mode trigger `onChange` will get `undefined` if no `value` match in Option\n * - `combobox` mode not support `optionLabelProp`\n */\n\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport BaseSelect, { isMultiple } from \"./BaseSelect\";\nimport OptGroup from \"./OptGroup\";\nimport Option from \"./Option\";\nimport OptionList from \"./OptionList\";\nimport SelectContext from \"./SelectContext\";\nimport useCache from \"./hooks/useCache\";\nimport useFilterOptions from \"./hooks/useFilterOptions\";\nimport useId from \"./hooks/useId\";\nimport useOptions from \"./hooks/useOptions\";\nimport useRefFunc from \"./hooks/useRefFunc\";\nimport { hasValue, isComboNoValue, toArray } from \"./utils/commonUtil\";\nimport { fillFieldNames, flattenOptions, injectPropsWithOption } from \"./utils/valueUtil\";\nimport warningProps, { warningNullOptions } from \"./utils/warningPropsUtil\";\nvar OMIT_DOM_PROPS = ['inputValue'];\n\nfunction isRawValue(value) {\n  return !value || _typeof(value) !== 'object';\n}\n\nvar Select = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var id = props.id,\n      mode = props.mode,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-select' : _props$prefixCls,\n      backfill = props.backfill,\n      fieldNames = props.fieldNames,\n      inputValue = props.inputValue,\n      searchValue = props.searchValue,\n      onSearch = props.onSearch,\n      _props$autoClearSearc = props.autoClearSearchValue,\n      autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\n      onSelect = props.onSelect,\n      onDeselect = props.onDeselect,\n      _props$dropdownMatchS = props.dropdownMatchSelectWidth,\n      dropdownMatchSelectWidth = _props$dropdownMatchS === void 0 ? true : _props$dropdownMatchS,\n      filterOption = props.filterOption,\n      filterSort = props.filterSort,\n      optionFilterProp = props.optionFilterProp,\n      optionLabelProp = props.optionLabelProp,\n      options = props.options,\n      optionRender = props.optionRender,\n      children = props.children,\n      defaultActiveFirstOption = props.defaultActiveFirstOption,\n      menuItemSelectedIcon = props.menuItemSelectedIcon,\n      virtual = props.virtual,\n      direction = props.direction,\n      _props$listHeight = props.listHeight,\n      listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\n      _props$listItemHeight = props.listItemHeight,\n      listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\n      labelRender = props.labelRender,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      labelInValue = props.labelInValue,\n      onChange = props.onChange,\n      maxCount = props.maxCount,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var mergedId = useId(id);\n  var multiple = isMultiple(mode);\n  var childrenAsData = !!(!options && children);\n  var mergedFilterOption = React.useMemo(function () {\n    if (filterOption === undefined && mode === 'combobox') {\n      return false;\n    }\n\n    return filterOption;\n  }, [filterOption, mode]); // ========================= FieldNames =========================\n\n  var mergedFieldNames = React.useMemo(function () {\n    return fillFieldNames(fieldNames, childrenAsData);\n  },\n  /* eslint-disable react-hooks/exhaustive-deps */\n  [// We stringify fieldNames to avoid unnecessary re-renders.\n  JSON.stringify(fieldNames), childrenAsData]\n  /* eslint-enable react-hooks/exhaustive-deps */\n  ); // =========================== Search ===========================\n\n  var _useMergedState = useMergedState('', {\n    value: searchValue !== undefined ? searchValue : inputValue,\n    postState: function postState(search) {\n      return search || '';\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedSearchValue = _useMergedState2[0],\n      setSearchValue = _useMergedState2[1]; // =========================== Option ===========================\n\n\n  var parsedOptions = useOptions(options, children, mergedFieldNames, optionFilterProp, optionLabelProp);\n  var valueOptions = parsedOptions.valueOptions,\n      labelOptions = parsedOptions.labelOptions,\n      mergedOptions = parsedOptions.options; // ========================= Wrap Value =========================\n\n  var convert2LabelValues = React.useCallback(function (draftValues) {\n    // Convert to array\n    var valueList = toArray(draftValues); // Convert to labelInValue type\n\n    return valueList.map(function (val) {\n      var rawValue;\n      var rawLabel;\n      var rawKey;\n      var rawDisabled;\n      var rawTitle; // Fill label & value\n\n      if (isRawValue(val)) {\n        rawValue = val;\n      } else {\n        var _val$value;\n\n        rawKey = val.key;\n        rawLabel = val.label;\n        rawValue = (_val$value = val.value) !== null && _val$value !== void 0 ? _val$value : rawKey;\n      }\n\n      var option = valueOptions.get(rawValue);\n\n      if (option) {\n        var _option$key; // Fill missing props\n\n\n        if (rawLabel === undefined) rawLabel = option === null || option === void 0 ? void 0 : option[optionLabelProp || mergedFieldNames.label];\n        if (rawKey === undefined) rawKey = (_option$key = option === null || option === void 0 ? void 0 : option.key) !== null && _option$key !== void 0 ? _option$key : rawValue;\n        rawDisabled = option === null || option === void 0 ? void 0 : option.disabled;\n        rawTitle = option === null || option === void 0 ? void 0 : option.title; // Warning if label not same as provided\n\n        if (process.env.NODE_ENV !== 'production' && !optionLabelProp) {\n          var optionLabel = option === null || option === void 0 ? void 0 : option[mergedFieldNames.label];\n\n          if (optionLabel !== undefined && ! /*#__PURE__*/React.isValidElement(optionLabel) && ! /*#__PURE__*/React.isValidElement(rawLabel) && optionLabel !== rawLabel) {\n            warning(false, '`label` of `value` is not same as `label` in Select options.');\n          }\n        }\n      }\n\n      return {\n        label: rawLabel,\n        value: rawValue,\n        key: rawKey,\n        disabled: rawDisabled,\n        title: rawTitle\n      };\n    });\n  }, [mergedFieldNames, optionLabelProp, valueOptions]); // =========================== Values ===========================\n\n  var _useMergedState3 = useMergedState(defaultValue, {\n    value: value\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      internalValue = _useMergedState4[0],\n      setInternalValue = _useMergedState4[1]; // Merged value with LabelValueType\n\n\n  var rawLabeledValues = React.useMemo(function () {\n    var _values$;\n\n    var newInternalValue = multiple && internalValue === null ? [] : internalValue;\n    var values = convert2LabelValues(newInternalValue); // combobox no need save value when it's no value (exclude value equal 0)\n\n    if (mode === 'combobox' && isComboNoValue((_values$ = values[0]) === null || _values$ === void 0 ? void 0 : _values$.value)) {\n      return [];\n    }\n\n    return values;\n  }, [internalValue, convert2LabelValues, mode, multiple]); // Fill label with cache to avoid option remove\n\n  var _useCache = useCache(rawLabeledValues, valueOptions),\n      _useCache2 = _slicedToArray(_useCache, 2),\n      mergedValues = _useCache2[0],\n      getMixedOption = _useCache2[1];\n\n  var displayValues = React.useMemo(function () {\n    // `null` need show as placeholder instead\n    // https://github.com/ant-design/ant-design/issues/25057\n    if (!mode && mergedValues.length === 1) {\n      var firstValue = mergedValues[0];\n\n      if (firstValue.value === null && (firstValue.label === null || firstValue.label === undefined)) {\n        return [];\n      }\n    }\n\n    return mergedValues.map(function (item) {\n      var _ref;\n\n      return _objectSpread(_objectSpread({}, item), {}, {\n        label: (_ref = typeof labelRender === 'function' ? labelRender(item) : item.label) !== null && _ref !== void 0 ? _ref : item.value\n      });\n    });\n  }, [mode, mergedValues, labelRender]);\n  /** Convert `displayValues` to raw value type set */\n\n  var rawValues = React.useMemo(function () {\n    return new Set(mergedValues.map(function (val) {\n      return val.value;\n    }));\n  }, [mergedValues]);\n  React.useEffect(function () {\n    if (mode === 'combobox') {\n      var _mergedValues$;\n\n      var strValue = (_mergedValues$ = mergedValues[0]) === null || _mergedValues$ === void 0 ? void 0 : _mergedValues$.value;\n      setSearchValue(hasValue(strValue) ? String(strValue) : '');\n    }\n  }, [mergedValues]); // ======================= Display Option =======================\n  // Create a placeholder item if not exist in `options`\n\n  var createTagOption = useRefFunc(function (val, label) {\n    var mergedLabel = label !== null && label !== void 0 ? label : val;\n    return _defineProperty(_defineProperty({}, mergedFieldNames.value, val), mergedFieldNames.label, mergedLabel);\n  }); // Fill tag as option if mode is `tags`\n\n  var filledTagOptions = React.useMemo(function () {\n    if (mode !== 'tags') {\n      return mergedOptions;\n    } // >>> Tag mode\n\n\n    var cloneOptions = _toConsumableArray(mergedOptions); // Check if value exist in options (include new patch item)\n\n\n    var existOptions = function existOptions(val) {\n      return valueOptions.has(val);\n    }; // Fill current value as option\n\n\n    _toConsumableArray(mergedValues).sort(function (a, b) {\n      return a.value < b.value ? -1 : 1;\n    }).forEach(function (item) {\n      var val = item.value;\n\n      if (!existOptions(val)) {\n        cloneOptions.push(createTagOption(val, item.label));\n      }\n    });\n\n    return cloneOptions;\n  }, [createTagOption, mergedOptions, valueOptions, mergedValues, mode]);\n  var filteredOptions = useFilterOptions(filledTagOptions, mergedFieldNames, mergedSearchValue, mergedFilterOption, optionFilterProp); // Fill options with search value if needed\n\n  var filledSearchOptions = React.useMemo(function () {\n    if (mode !== 'tags' || !mergedSearchValue || filteredOptions.some(function (item) {\n      return item[optionFilterProp || 'value'] === mergedSearchValue;\n    })) {\n      return filteredOptions;\n    } // ignore when search value equal select input value\n\n\n    if (filteredOptions.some(function (item) {\n      return item[mergedFieldNames.value] === mergedSearchValue;\n    })) {\n      return filteredOptions;\n    } // Fill search value as option\n\n\n    return [createTagOption(mergedSearchValue)].concat(_toConsumableArray(filteredOptions));\n  }, [createTagOption, optionFilterProp, mode, filteredOptions, mergedSearchValue, mergedFieldNames]);\n  var orderedFilteredOptions = React.useMemo(function () {\n    if (!filterSort) {\n      return filledSearchOptions;\n    }\n\n    return _toConsumableArray(filledSearchOptions).sort(function (a, b) {\n      return filterSort(a, b);\n    });\n  }, [filledSearchOptions, filterSort]);\n  var displayOptions = React.useMemo(function () {\n    return flattenOptions(orderedFilteredOptions, {\n      fieldNames: mergedFieldNames,\n      childrenAsData: childrenAsData\n    });\n  }, [orderedFilteredOptions, mergedFieldNames, childrenAsData]); // =========================== Change ===========================\n\n  var triggerChange = function triggerChange(values) {\n    var labeledValues = convert2LabelValues(values);\n    setInternalValue(labeledValues);\n\n    if (onChange && ( // Trigger event only when value changed\n    labeledValues.length !== mergedValues.length || labeledValues.some(function (newVal, index) {\n      var _mergedValues$index;\n\n      return ((_mergedValues$index = mergedValues[index]) === null || _mergedValues$index === void 0 ? void 0 : _mergedValues$index.value) !== (newVal === null || newVal === void 0 ? void 0 : newVal.value);\n    }))) {\n      var returnValues = labelInValue ? labeledValues : labeledValues.map(function (v) {\n        return v.value;\n      });\n      var returnOptions = labeledValues.map(function (v) {\n        return injectPropsWithOption(getMixedOption(v.value));\n      });\n      onChange( // Value\n      multiple ? returnValues : returnValues[0], // Option\n      multiple ? returnOptions : returnOptions[0]);\n    }\n  }; // ======================= Accessibility ========================\n\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeValue = _React$useState2[0],\n      setActiveValue = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      accessibilityIndex = _React$useState4[0],\n      setAccessibilityIndex = _React$useState4[1];\n\n  var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n  var onActiveValue = React.useCallback(function (active, index) {\n    var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref3$source = _ref3.source,\n        source = _ref3$source === void 0 ? 'keyboard' : _ref3$source;\n\n    setAccessibilityIndex(index);\n\n    if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n      setActiveValue(String(active));\n    }\n  }, [backfill, mode]); // ========================= OptionList =========================\n\n  var triggerSelect = function triggerSelect(val, selected, type) {\n    var getSelectEnt = function getSelectEnt() {\n      var _option$key2;\n\n      var option = getMixedOption(val);\n      return [labelInValue ? {\n        label: option === null || option === void 0 ? void 0 : option[mergedFieldNames.label],\n        value: val,\n        key: (_option$key2 = option === null || option === void 0 ? void 0 : option.key) !== null && _option$key2 !== void 0 ? _option$key2 : val\n      } : val, injectPropsWithOption(option)];\n    };\n\n    if (selected && onSelect) {\n      var _getSelectEnt = getSelectEnt(),\n          _getSelectEnt2 = _slicedToArray(_getSelectEnt, 2),\n          wrappedValue = _getSelectEnt2[0],\n          _option = _getSelectEnt2[1];\n\n      onSelect(wrappedValue, _option);\n    } else if (!selected && onDeselect && type !== 'clear') {\n      var _getSelectEnt3 = getSelectEnt(),\n          _getSelectEnt4 = _slicedToArray(_getSelectEnt3, 2),\n          _wrappedValue = _getSelectEnt4[0],\n          _option2 = _getSelectEnt4[1];\n\n      onDeselect(_wrappedValue, _option2);\n    }\n  }; // Used for OptionList selection\n\n\n  var onInternalSelect = useRefFunc(function (val, info) {\n    var cloneValues; // Single mode always trigger select only with option list\n\n    var mergedSelect = multiple ? info.selected : true;\n\n    if (mergedSelect) {\n      cloneValues = multiple ? [].concat(_toConsumableArray(mergedValues), [val]) : [val];\n    } else {\n      cloneValues = mergedValues.filter(function (v) {\n        return v.value !== val;\n      });\n    }\n\n    triggerChange(cloneValues);\n    triggerSelect(val, mergedSelect); // Clean search value if single or configured\n\n    if (mode === 'combobox') {\n      // setSearchValue(String(val));\n      setActiveValue('');\n    } else if (!isMultiple || autoClearSearchValue) {\n      setSearchValue('');\n      setActiveValue('');\n    }\n  }); // ======================= Display Change =======================\n  // BaseSelect display values change\n\n  var onDisplayValuesChange = function onDisplayValuesChange(nextValues, info) {\n    triggerChange(nextValues);\n    var type = info.type,\n        values = info.values;\n\n    if (type === 'remove' || type === 'clear') {\n      values.forEach(function (item) {\n        triggerSelect(item.value, false, type);\n      });\n    }\n  }; // =========================== Search ===========================\n\n\n  var onInternalSearch = function onInternalSearch(searchText, info) {\n    setSearchValue(searchText);\n    setActiveValue(null); // [Submit] Tag mode should flush input\n\n    if (info.source === 'submit') {\n      var formatted = (searchText || '').trim(); // prevent empty tags from appearing when you click the Enter button\n\n      if (formatted) {\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), [formatted])));\n        triggerChange(newRawValues);\n        triggerSelect(formatted, true);\n        setSearchValue('');\n      }\n\n      return;\n    }\n\n    if (info.source !== 'blur') {\n      if (mode === 'combobox') {\n        triggerChange(searchText);\n      }\n\n      onSearch === null || onSearch === void 0 || onSearch(searchText);\n    }\n  };\n\n  var onInternalSearchSplit = function onInternalSearchSplit(words) {\n    var patchValues = words;\n\n    if (mode !== 'tags') {\n      patchValues = words.map(function (word) {\n        var opt = labelOptions.get(word);\n        return opt === null || opt === void 0 ? void 0 : opt.value;\n      }).filter(function (val) {\n        return val !== undefined;\n      });\n    }\n\n    var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), _toConsumableArray(patchValues))));\n    triggerChange(newRawValues);\n    newRawValues.forEach(function (newRawValue) {\n      triggerSelect(newRawValue, true);\n    });\n  }; // ========================== Context ===========================\n\n\n  var selectContext = React.useMemo(function () {\n    var realVirtual = virtual !== false && dropdownMatchSelectWidth !== false;\n    return _objectSpread(_objectSpread({}, parsedOptions), {}, {\n      flattenOptions: displayOptions,\n      onActiveValue: onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      onSelect: onInternalSelect,\n      menuItemSelectedIcon: menuItemSelectedIcon,\n      rawValues: rawValues,\n      fieldNames: mergedFieldNames,\n      virtual: realVirtual,\n      direction: direction,\n      listHeight: listHeight,\n      listItemHeight: listItemHeight,\n      childrenAsData: childrenAsData,\n      maxCount: maxCount,\n      optionRender: optionRender\n    });\n  }, [maxCount, parsedOptions, displayOptions, onActiveValue, mergedDefaultActiveFirstOption, onInternalSelect, menuItemSelectedIcon, rawValues, mergedFieldNames, virtual, dropdownMatchSelectWidth, direction, listHeight, listItemHeight, childrenAsData, optionRender]); // ========================== Warning ===========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n    warningNullOptions(mergedOptions, mergedFieldNames);\n  } // ==============================================================\n  // ==                          Render                          ==\n  // ==============================================================\n\n\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: selectContext\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\n    // >>> MISC\n    id: mergedId,\n    prefixCls: prefixCls,\n    ref: ref,\n    omitDomProps: OMIT_DOM_PROPS,\n    mode: mode // >>> Values\n    ,\n    displayValues: displayValues,\n    onDisplayValuesChange: onDisplayValuesChange // >>> Trigger\n    ,\n    direction: direction // >>> Search\n    ,\n    searchValue: mergedSearchValue,\n    onSearch: onInternalSearch,\n    autoClearSearchValue: autoClearSearchValue,\n    onSearchSplit: onInternalSearchSplit,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth // >>> OptionList\n    ,\n    OptionList: OptionList,\n    emptyOptions: !displayOptions.length // >>> Accessibility\n    ,\n    activeValue: activeValue,\n    activeDescendantId: \"\".concat(mergedId, \"_list_\").concat(accessibilityIndex)\n  })));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Select.displayName = 'Select';\n}\n\nvar TypedSelect = Select;\nTypedSelect.Option = Option;\nTypedSelect.OptGroup = OptGroup;\nexport default TypedSelect;","map":{"version":3,"sources":["D:/WED/SpotifyProject-master/node_modules/rc-select/es/Select.js"],"names":["_extends","_toConsumableArray","_defineProperty","_objectSpread","_slicedToArray","_objectWithoutProperties","_typeof","_excluded","useMergedState","warning","React","BaseSelect","isMultiple","OptGroup","Option","OptionList","SelectContext","useCache","useFilterOptions","useId","useOptions","useRefFunc","hasValue","isComboNoValue","toArray","fillFieldNames","flattenOptions","injectPropsWithOption","warningProps","warningNullOptions","OMIT_DOM_PROPS","isRawValue","value","Select","forwardRef","props","ref","id","mode","_props$prefixCls","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","_props$autoClearSearc","autoClearSearchValue","onSelect","onDeselect","_props$dropdownMatchS","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","_props$listHeight","listHeight","_props$listItemHeight","listItemHeight","labelRender","defaultValue","labelInValue","onChange","maxCount","restProps","mergedId","multiple","childrenAsData","mergedFilterOption","useMemo","undefined","mergedFieldNames","JSON","stringify","_useMergedState","postState","search","_useMergedState2","mergedSearchValue","setSearchValue","parsedOptions","valueOptions","labelOptions","mergedOptions","convert2LabelValues","useCallback","draftValues","valueList","map","val","rawValue","rawLabel","rawKey","rawDisabled","rawTitle","_val$value","key","label","option","get","_option$key","disabled","title","process","env","NODE_ENV","optionLabel","isValidElement","_useMergedState3","_useMergedState4","internalValue","setInternalValue","rawLabeledValues","_values$","newInternalValue","values","_useCache","_useCache2","mergedValues","getMixedOption","displayValues","length","firstValue","item","_ref","rawValues","Set","useEffect","_mergedValues$","strValue","String","createTagOption","mergedLabel","filledTagOptions","cloneOptions","existOptions","has","sort","a","b","forEach","push","filteredOptions","filledSearchOptions","some","concat","orderedFilteredOptions","displayOptions","triggerChange","labeledValues","newVal","index","_mergedValues$index","returnValues","v","returnOptions","_React$useState","useState","_React$useState2","activeValue","setActiveValue","_React$useState3","_React$useState4","accessibilityIndex","setAccessibilityIndex","mergedDefaultActiveFirstOption","onActiveValue","active","_ref3","arguments","_ref3$source","source","triggerSelect","selected","type","getSelectEnt","_option$key2","_getSelectEnt","_getSelectEnt2","wrappedValue","_option","_getSelectEnt3","_getSelectEnt4","_wrappedValue","_option2","onInternalSelect","info","cloneValues","mergedSelect","filter","onDisplayValuesChange","nextValues","onInternalSearch","searchText","formatted","trim","newRawValues","Array","from","onInternalSearchSplit","words","patchValues","word","opt","newRawValue","selectContext","realVirtual","createElement","Provider","omitDomProps","onSearchSplit","emptyOptions","activeDescendantId","displayName","TypedSelect"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar _excluded = [\"id\", \"mode\", \"prefixCls\", \"backfill\", \"fieldNames\", \"inputValue\", \"searchValue\", \"onSearch\", \"autoClearSearchValue\", \"onSelect\", \"onDeselect\", \"dropdownMatchSelectWidth\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"optionLabelProp\", \"options\", \"optionRender\", \"children\", \"defaultActiveFirstOption\", \"menuItemSelectedIcon\", \"virtual\", \"direction\", \"listHeight\", \"listItemHeight\", \"labelRender\", \"value\", \"defaultValue\", \"labelInValue\", \"onChange\", \"maxCount\"];\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n *\n * New api:\n * - listHeight\n * - listItemHeight\n * - component\n *\n * Remove deprecated api:\n * - multiple\n * - tags\n * - combobox\n * - firstActiveValue\n * - dropdownMenuStyle\n * - openClassName (Not list in api)\n *\n * Update:\n * - `backfill` only support `combobox` mode\n * - `combobox` mode not support `labelInValue` since it's meaningless\n * - `getInputElement` only support `combobox` mode\n * - `onChange` return OptionData instead of ReactNode\n * - `filterOption` `onChange` `onSelect` accept OptionData instead of ReactNode\n * - `combobox` mode trigger `onChange` will get `undefined` if no `value` match in Option\n * - `combobox` mode not support `optionLabelProp`\n */\n\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport BaseSelect, { isMultiple } from \"./BaseSelect\";\nimport OptGroup from \"./OptGroup\";\nimport Option from \"./Option\";\nimport OptionList from \"./OptionList\";\nimport SelectContext from \"./SelectContext\";\nimport useCache from \"./hooks/useCache\";\nimport useFilterOptions from \"./hooks/useFilterOptions\";\nimport useId from \"./hooks/useId\";\nimport useOptions from \"./hooks/useOptions\";\nimport useRefFunc from \"./hooks/useRefFunc\";\nimport { hasValue, isComboNoValue, toArray } from \"./utils/commonUtil\";\nimport { fillFieldNames, flattenOptions, injectPropsWithOption } from \"./utils/valueUtil\";\nimport warningProps, { warningNullOptions } from \"./utils/warningPropsUtil\";\nvar OMIT_DOM_PROPS = ['inputValue'];\nfunction isRawValue(value) {\n  return !value || _typeof(value) !== 'object';\n}\nvar Select = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var id = props.id,\n    mode = props.mode,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-select' : _props$prefixCls,\n    backfill = props.backfill,\n    fieldNames = props.fieldNames,\n    inputValue = props.inputValue,\n    searchValue = props.searchValue,\n    onSearch = props.onSearch,\n    _props$autoClearSearc = props.autoClearSearchValue,\n    autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\n    onSelect = props.onSelect,\n    onDeselect = props.onDeselect,\n    _props$dropdownMatchS = props.dropdownMatchSelectWidth,\n    dropdownMatchSelectWidth = _props$dropdownMatchS === void 0 ? true : _props$dropdownMatchS,\n    filterOption = props.filterOption,\n    filterSort = props.filterSort,\n    optionFilterProp = props.optionFilterProp,\n    optionLabelProp = props.optionLabelProp,\n    options = props.options,\n    optionRender = props.optionRender,\n    children = props.children,\n    defaultActiveFirstOption = props.defaultActiveFirstOption,\n    menuItemSelectedIcon = props.menuItemSelectedIcon,\n    virtual = props.virtual,\n    direction = props.direction,\n    _props$listHeight = props.listHeight,\n    listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\n    _props$listItemHeight = props.listItemHeight,\n    listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\n    labelRender = props.labelRender,\n    value = props.value,\n    defaultValue = props.defaultValue,\n    labelInValue = props.labelInValue,\n    onChange = props.onChange,\n    maxCount = props.maxCount,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var mergedId = useId(id);\n  var multiple = isMultiple(mode);\n  var childrenAsData = !!(!options && children);\n  var mergedFilterOption = React.useMemo(function () {\n    if (filterOption === undefined && mode === 'combobox') {\n      return false;\n    }\n    return filterOption;\n  }, [filterOption, mode]);\n\n  // ========================= FieldNames =========================\n  var mergedFieldNames = React.useMemo(function () {\n    return fillFieldNames(fieldNames, childrenAsData);\n  }, /* eslint-disable react-hooks/exhaustive-deps */\n  [\n  // We stringify fieldNames to avoid unnecessary re-renders.\n  JSON.stringify(fieldNames), childrenAsData]\n  /* eslint-enable react-hooks/exhaustive-deps */);\n\n  // =========================== Search ===========================\n  var _useMergedState = useMergedState('', {\n      value: searchValue !== undefined ? searchValue : inputValue,\n      postState: function postState(search) {\n        return search || '';\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedSearchValue = _useMergedState2[0],\n    setSearchValue = _useMergedState2[1];\n\n  // =========================== Option ===========================\n  var parsedOptions = useOptions(options, children, mergedFieldNames, optionFilterProp, optionLabelProp);\n  var valueOptions = parsedOptions.valueOptions,\n    labelOptions = parsedOptions.labelOptions,\n    mergedOptions = parsedOptions.options;\n\n  // ========================= Wrap Value =========================\n  var convert2LabelValues = React.useCallback(function (draftValues) {\n    // Convert to array\n    var valueList = toArray(draftValues);\n\n    // Convert to labelInValue type\n    return valueList.map(function (val) {\n      var rawValue;\n      var rawLabel;\n      var rawKey;\n      var rawDisabled;\n      var rawTitle;\n\n      // Fill label & value\n      if (isRawValue(val)) {\n        rawValue = val;\n      } else {\n        var _val$value;\n        rawKey = val.key;\n        rawLabel = val.label;\n        rawValue = (_val$value = val.value) !== null && _val$value !== void 0 ? _val$value : rawKey;\n      }\n      var option = valueOptions.get(rawValue);\n      if (option) {\n        var _option$key;\n        // Fill missing props\n        if (rawLabel === undefined) rawLabel = option === null || option === void 0 ? void 0 : option[optionLabelProp || mergedFieldNames.label];\n        if (rawKey === undefined) rawKey = (_option$key = option === null || option === void 0 ? void 0 : option.key) !== null && _option$key !== void 0 ? _option$key : rawValue;\n        rawDisabled = option === null || option === void 0 ? void 0 : option.disabled;\n        rawTitle = option === null || option === void 0 ? void 0 : option.title;\n\n        // Warning if label not same as provided\n        if (process.env.NODE_ENV !== 'production' && !optionLabelProp) {\n          var optionLabel = option === null || option === void 0 ? void 0 : option[mergedFieldNames.label];\n          if (optionLabel !== undefined && ! /*#__PURE__*/React.isValidElement(optionLabel) && ! /*#__PURE__*/React.isValidElement(rawLabel) && optionLabel !== rawLabel) {\n            warning(false, '`label` of `value` is not same as `label` in Select options.');\n          }\n        }\n      }\n      return {\n        label: rawLabel,\n        value: rawValue,\n        key: rawKey,\n        disabled: rawDisabled,\n        title: rawTitle\n      };\n    });\n  }, [mergedFieldNames, optionLabelProp, valueOptions]);\n\n  // =========================== Values ===========================\n  var _useMergedState3 = useMergedState(defaultValue, {\n      value: value\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    internalValue = _useMergedState4[0],\n    setInternalValue = _useMergedState4[1];\n\n  // Merged value with LabelValueType\n  var rawLabeledValues = React.useMemo(function () {\n    var _values$;\n    var newInternalValue = multiple && internalValue === null ? [] : internalValue;\n    var values = convert2LabelValues(newInternalValue);\n\n    // combobox no need save value when it's no value (exclude value equal 0)\n    if (mode === 'combobox' && isComboNoValue((_values$ = values[0]) === null || _values$ === void 0 ? void 0 : _values$.value)) {\n      return [];\n    }\n    return values;\n  }, [internalValue, convert2LabelValues, mode, multiple]);\n\n  // Fill label with cache to avoid option remove\n  var _useCache = useCache(rawLabeledValues, valueOptions),\n    _useCache2 = _slicedToArray(_useCache, 2),\n    mergedValues = _useCache2[0],\n    getMixedOption = _useCache2[1];\n  var displayValues = React.useMemo(function () {\n    // `null` need show as placeholder instead\n    // https://github.com/ant-design/ant-design/issues/25057\n    if (!mode && mergedValues.length === 1) {\n      var firstValue = mergedValues[0];\n      if (firstValue.value === null && (firstValue.label === null || firstValue.label === undefined)) {\n        return [];\n      }\n    }\n    return mergedValues.map(function (item) {\n      var _ref;\n      return _objectSpread(_objectSpread({}, item), {}, {\n        label: (_ref = typeof labelRender === 'function' ? labelRender(item) : item.label) !== null && _ref !== void 0 ? _ref : item.value\n      });\n    });\n  }, [mode, mergedValues, labelRender]);\n\n  /** Convert `displayValues` to raw value type set */\n  var rawValues = React.useMemo(function () {\n    return new Set(mergedValues.map(function (val) {\n      return val.value;\n    }));\n  }, [mergedValues]);\n  React.useEffect(function () {\n    if (mode === 'combobox') {\n      var _mergedValues$;\n      var strValue = (_mergedValues$ = mergedValues[0]) === null || _mergedValues$ === void 0 ? void 0 : _mergedValues$.value;\n      setSearchValue(hasValue(strValue) ? String(strValue) : '');\n    }\n  }, [mergedValues]);\n\n  // ======================= Display Option =======================\n  // Create a placeholder item if not exist in `options`\n  var createTagOption = useRefFunc(function (val, label) {\n    var mergedLabel = label !== null && label !== void 0 ? label : val;\n    return _defineProperty(_defineProperty({}, mergedFieldNames.value, val), mergedFieldNames.label, mergedLabel);\n  });\n\n  // Fill tag as option if mode is `tags`\n  var filledTagOptions = React.useMemo(function () {\n    if (mode !== 'tags') {\n      return mergedOptions;\n    }\n\n    // >>> Tag mode\n    var cloneOptions = _toConsumableArray(mergedOptions);\n\n    // Check if value exist in options (include new patch item)\n    var existOptions = function existOptions(val) {\n      return valueOptions.has(val);\n    };\n\n    // Fill current value as option\n    _toConsumableArray(mergedValues).sort(function (a, b) {\n      return a.value < b.value ? -1 : 1;\n    }).forEach(function (item) {\n      var val = item.value;\n      if (!existOptions(val)) {\n        cloneOptions.push(createTagOption(val, item.label));\n      }\n    });\n    return cloneOptions;\n  }, [createTagOption, mergedOptions, valueOptions, mergedValues, mode]);\n  var filteredOptions = useFilterOptions(filledTagOptions, mergedFieldNames, mergedSearchValue, mergedFilterOption, optionFilterProp);\n\n  // Fill options with search value if needed\n  var filledSearchOptions = React.useMemo(function () {\n    if (mode !== 'tags' || !mergedSearchValue || filteredOptions.some(function (item) {\n      return item[optionFilterProp || 'value'] === mergedSearchValue;\n    })) {\n      return filteredOptions;\n    }\n    // ignore when search value equal select input value\n    if (filteredOptions.some(function (item) {\n      return item[mergedFieldNames.value] === mergedSearchValue;\n    })) {\n      return filteredOptions;\n    }\n    // Fill search value as option\n    return [createTagOption(mergedSearchValue)].concat(_toConsumableArray(filteredOptions));\n  }, [createTagOption, optionFilterProp, mode, filteredOptions, mergedSearchValue, mergedFieldNames]);\n  var orderedFilteredOptions = React.useMemo(function () {\n    if (!filterSort) {\n      return filledSearchOptions;\n    }\n    return _toConsumableArray(filledSearchOptions).sort(function (a, b) {\n      return filterSort(a, b);\n    });\n  }, [filledSearchOptions, filterSort]);\n  var displayOptions = React.useMemo(function () {\n    return flattenOptions(orderedFilteredOptions, {\n      fieldNames: mergedFieldNames,\n      childrenAsData: childrenAsData\n    });\n  }, [orderedFilteredOptions, mergedFieldNames, childrenAsData]);\n\n  // =========================== Change ===========================\n  var triggerChange = function triggerChange(values) {\n    var labeledValues = convert2LabelValues(values);\n    setInternalValue(labeledValues);\n    if (onChange && (\n    // Trigger event only when value changed\n    labeledValues.length !== mergedValues.length || labeledValues.some(function (newVal, index) {\n      var _mergedValues$index;\n      return ((_mergedValues$index = mergedValues[index]) === null || _mergedValues$index === void 0 ? void 0 : _mergedValues$index.value) !== (newVal === null || newVal === void 0 ? void 0 : newVal.value);\n    }))) {\n      var returnValues = labelInValue ? labeledValues : labeledValues.map(function (v) {\n        return v.value;\n      });\n      var returnOptions = labeledValues.map(function (v) {\n        return injectPropsWithOption(getMixedOption(v.value));\n      });\n      onChange(\n      // Value\n      multiple ? returnValues : returnValues[0],\n      // Option\n      multiple ? returnOptions : returnOptions[0]);\n    }\n  };\n\n  // ======================= Accessibility ========================\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    activeValue = _React$useState2[0],\n    setActiveValue = _React$useState2[1];\n  var _React$useState3 = React.useState(0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    accessibilityIndex = _React$useState4[0],\n    setAccessibilityIndex = _React$useState4[1];\n  var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n  var onActiveValue = React.useCallback(function (active, index) {\n    var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref3$source = _ref3.source,\n      source = _ref3$source === void 0 ? 'keyboard' : _ref3$source;\n    setAccessibilityIndex(index);\n    if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n      setActiveValue(String(active));\n    }\n  }, [backfill, mode]);\n\n  // ========================= OptionList =========================\n  var triggerSelect = function triggerSelect(val, selected, type) {\n    var getSelectEnt = function getSelectEnt() {\n      var _option$key2;\n      var option = getMixedOption(val);\n      return [labelInValue ? {\n        label: option === null || option === void 0 ? void 0 : option[mergedFieldNames.label],\n        value: val,\n        key: (_option$key2 = option === null || option === void 0 ? void 0 : option.key) !== null && _option$key2 !== void 0 ? _option$key2 : val\n      } : val, injectPropsWithOption(option)];\n    };\n    if (selected && onSelect) {\n      var _getSelectEnt = getSelectEnt(),\n        _getSelectEnt2 = _slicedToArray(_getSelectEnt, 2),\n        wrappedValue = _getSelectEnt2[0],\n        _option = _getSelectEnt2[1];\n      onSelect(wrappedValue, _option);\n    } else if (!selected && onDeselect && type !== 'clear') {\n      var _getSelectEnt3 = getSelectEnt(),\n        _getSelectEnt4 = _slicedToArray(_getSelectEnt3, 2),\n        _wrappedValue = _getSelectEnt4[0],\n        _option2 = _getSelectEnt4[1];\n      onDeselect(_wrappedValue, _option2);\n    }\n  };\n\n  // Used for OptionList selection\n  var onInternalSelect = useRefFunc(function (val, info) {\n    var cloneValues;\n\n    // Single mode always trigger select only with option list\n    var mergedSelect = multiple ? info.selected : true;\n    if (mergedSelect) {\n      cloneValues = multiple ? [].concat(_toConsumableArray(mergedValues), [val]) : [val];\n    } else {\n      cloneValues = mergedValues.filter(function (v) {\n        return v.value !== val;\n      });\n    }\n    triggerChange(cloneValues);\n    triggerSelect(val, mergedSelect);\n\n    // Clean search value if single or configured\n    if (mode === 'combobox') {\n      // setSearchValue(String(val));\n      setActiveValue('');\n    } else if (!isMultiple || autoClearSearchValue) {\n      setSearchValue('');\n      setActiveValue('');\n    }\n  });\n\n  // ======================= Display Change =======================\n  // BaseSelect display values change\n  var onDisplayValuesChange = function onDisplayValuesChange(nextValues, info) {\n    triggerChange(nextValues);\n    var type = info.type,\n      values = info.values;\n    if (type === 'remove' || type === 'clear') {\n      values.forEach(function (item) {\n        triggerSelect(item.value, false, type);\n      });\n    }\n  };\n\n  // =========================== Search ===========================\n  var onInternalSearch = function onInternalSearch(searchText, info) {\n    setSearchValue(searchText);\n    setActiveValue(null);\n\n    // [Submit] Tag mode should flush input\n    if (info.source === 'submit') {\n      var formatted = (searchText || '').trim();\n      // prevent empty tags from appearing when you click the Enter button\n      if (formatted) {\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), [formatted])));\n        triggerChange(newRawValues);\n        triggerSelect(formatted, true);\n        setSearchValue('');\n      }\n      return;\n    }\n    if (info.source !== 'blur') {\n      if (mode === 'combobox') {\n        triggerChange(searchText);\n      }\n      onSearch === null || onSearch === void 0 || onSearch(searchText);\n    }\n  };\n  var onInternalSearchSplit = function onInternalSearchSplit(words) {\n    var patchValues = words;\n    if (mode !== 'tags') {\n      patchValues = words.map(function (word) {\n        var opt = labelOptions.get(word);\n        return opt === null || opt === void 0 ? void 0 : opt.value;\n      }).filter(function (val) {\n        return val !== undefined;\n      });\n    }\n    var newRawValues = Array.from(new Set([].concat(_toConsumableArray(rawValues), _toConsumableArray(patchValues))));\n    triggerChange(newRawValues);\n    newRawValues.forEach(function (newRawValue) {\n      triggerSelect(newRawValue, true);\n    });\n  };\n\n  // ========================== Context ===========================\n  var selectContext = React.useMemo(function () {\n    var realVirtual = virtual !== false && dropdownMatchSelectWidth !== false;\n    return _objectSpread(_objectSpread({}, parsedOptions), {}, {\n      flattenOptions: displayOptions,\n      onActiveValue: onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      onSelect: onInternalSelect,\n      menuItemSelectedIcon: menuItemSelectedIcon,\n      rawValues: rawValues,\n      fieldNames: mergedFieldNames,\n      virtual: realVirtual,\n      direction: direction,\n      listHeight: listHeight,\n      listItemHeight: listItemHeight,\n      childrenAsData: childrenAsData,\n      maxCount: maxCount,\n      optionRender: optionRender\n    });\n  }, [maxCount, parsedOptions, displayOptions, onActiveValue, mergedDefaultActiveFirstOption, onInternalSelect, menuItemSelectedIcon, rawValues, mergedFieldNames, virtual, dropdownMatchSelectWidth, direction, listHeight, listItemHeight, childrenAsData, optionRender]);\n\n  // ========================== Warning ===========================\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n    warningNullOptions(mergedOptions, mergedFieldNames);\n  }\n\n  // ==============================================================\n  // ==                          Render                          ==\n  // ==============================================================\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: selectContext\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\n    // >>> MISC\n    id: mergedId,\n    prefixCls: prefixCls,\n    ref: ref,\n    omitDomProps: OMIT_DOM_PROPS,\n    mode: mode\n    // >>> Values\n    ,\n    displayValues: displayValues,\n    onDisplayValuesChange: onDisplayValuesChange\n    // >>> Trigger\n    ,\n    direction: direction\n    // >>> Search\n    ,\n    searchValue: mergedSearchValue,\n    onSearch: onInternalSearch,\n    autoClearSearchValue: autoClearSearchValue,\n    onSearchSplit: onInternalSearchSplit,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth\n    // >>> OptionList\n    ,\n    OptionList: OptionList,\n    emptyOptions: !displayOptions.length\n    // >>> Accessibility\n    ,\n    activeValue: activeValue,\n    activeDescendantId: \"\".concat(mergedId, \"_list_\").concat(accessibilityIndex)\n  })));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Select.displayName = 'Select';\n}\nvar TypedSelect = Select;\nTypedSelect.Option = Option;\nTypedSelect.OptGroup = OptGroup;\nexport default TypedSelect;"]},"metadata":{},"sourceType":"module"}