{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { PreviewGroupContext } from \"../context\";\nvar uid = 0;\nexport default function useRegisterImage(canPreview, data) {\n  var _React$useState = React.useState(function () {\n    uid += 1;\n    return String(uid);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      id = _React$useState2[0];\n\n  var groupContext = React.useContext(PreviewGroupContext);\n  var registerData = {\n    data: data,\n    canPreview: canPreview\n  }; // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n\n  React.useEffect(function () {\n    if (groupContext) {\n      return groupContext.register(id, registerData);\n    }\n  }, []);\n  React.useEffect(function () {\n    if (groupContext) {\n      groupContext.register(id, registerData);\n    }\n  }, [canPreview, data]);\n  return id;\n}","map":{"version":3,"sources":["D:/WED/SpotifyProject-master/node_modules/rc-image/es/hooks/useRegisterImage.js"],"names":["_slicedToArray","React","PreviewGroupContext","uid","useRegisterImage","canPreview","data","_React$useState","useState","String","_React$useState2","id","groupContext","useContext","registerData","useEffect","register"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,mBAAT,QAAoC,YAApC;AACA,IAAIC,GAAG,GAAG,CAAV;AACA,eAAe,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AACzD,MAAIC,eAAe,GAAGN,KAAK,CAACO,QAAN,CAAe,YAAY;AAC7CL,IAAAA,GAAG,IAAI,CAAP;AACA,WAAOM,MAAM,CAACN,GAAD,CAAb;AACD,GAHmB,CAAtB;AAAA,MAIEO,gBAAgB,GAAGV,cAAc,CAACO,eAAD,EAAkB,CAAlB,CAJnC;AAAA,MAKEI,EAAE,GAAGD,gBAAgB,CAAC,CAAD,CALvB;;AAMA,MAAIE,YAAY,GAAGX,KAAK,CAACY,UAAN,CAAiBX,mBAAjB,CAAnB;AACA,MAAIY,YAAY,GAAG;AACjBR,IAAAA,IAAI,EAAEA,IADW;AAEjBD,IAAAA,UAAU,EAAEA;AAFK,GAAnB,CARyD,CAazD;AACA;AACA;;AACAJ,EAAAA,KAAK,CAACc,SAAN,CAAgB,YAAY;AAC1B,QAAIH,YAAJ,EAAkB;AAChB,aAAOA,YAAY,CAACI,QAAb,CAAsBL,EAAtB,EAA0BG,YAA1B,CAAP;AACD;AACF,GAJD,EAIG,EAJH;AAKAb,EAAAA,KAAK,CAACc,SAAN,CAAgB,YAAY;AAC1B,QAAIH,YAAJ,EAAkB;AAChBA,MAAAA,YAAY,CAACI,QAAb,CAAsBL,EAAtB,EAA0BG,YAA1B;AACD;AACF,GAJD,EAIG,CAACT,UAAD,EAAaC,IAAb,CAJH;AAKA,SAAOK,EAAP;AACD","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { PreviewGroupContext } from \"../context\";\nvar uid = 0;\nexport default function useRegisterImage(canPreview, data) {\n  var _React$useState = React.useState(function () {\n      uid += 1;\n      return String(uid);\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    id = _React$useState2[0];\n  var groupContext = React.useContext(PreviewGroupContext);\n  var registerData = {\n    data: data,\n    canPreview: canPreview\n  };\n\n  // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n  React.useEffect(function () {\n    if (groupContext) {\n      return groupContext.register(id, registerData);\n    }\n  }, []);\n  React.useEffect(function () {\n    if (groupContext) {\n      groupContext.register(id, registerData);\n    }\n  }, [canPreview, data]);\n  return id;\n}"]},"metadata":{},"sourceType":"module"}