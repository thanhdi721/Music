{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"id\", \"open\", \"clearIcon\", \"suffixIcon\", \"activeHelp\", \"allHelp\", \"focused\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"locale\", \"generateConfig\", \"placeholder\", \"className\", \"style\", \"onClick\", \"onClear\", \"internalPicker\", \"value\", \"onChange\", \"onSubmit\", \"onInputChange\", \"multiple\", \"maxTagCount\", \"format\", \"maskFormat\", \"preserveInvalidOnBlur\", \"onInvalid\", \"disabled\", \"invalid\", \"inputReadOnly\", \"direction\", \"onOpenChange\", \"onMouseDown\", \"required\", \"aria-required\", \"autoFocus\", \"removeIcon\"];\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { isSame } from \"../../../utils/dateUtil\";\nimport PickerContext from \"../../context\";\nimport useInputProps from \"../hooks/useInputProps\";\nimport useRootProps from \"../hooks/useRootProps\";\nimport Icon, { ClearIcon } from \"../Icon\";\nimport Input from \"../Input\";\nimport MultipleDates from \"./MultipleDates\";\n\nfunction SingleSelector(props, ref) {\n  var id = props.id,\n      open = props.open,\n      clearIcon = props.clearIcon,\n      suffixIcon = props.suffixIcon,\n      activeHelp = props.activeHelp,\n      allHelp = props.allHelp,\n      focused = props.focused,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onKeyDown = props.onKeyDown,\n      locale = props.locale,\n      generateConfig = props.generateConfig,\n      placeholder = props.placeholder,\n      className = props.className,\n      style = props.style,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      internalPicker = props.internalPicker,\n      value = props.value,\n      onChange = props.onChange,\n      onSubmit = props.onSubmit,\n      onInputChange = props.onInputChange,\n      multiple = props.multiple,\n      maxTagCount = props.maxTagCount,\n      format = props.format,\n      maskFormat = props.maskFormat,\n      preserveInvalidOnBlur = props.preserveInvalidOnBlur,\n      onInvalid = props.onInvalid,\n      disabled = props.disabled,\n      invalid = props.invalid,\n      inputReadOnly = props.inputReadOnly,\n      direction = props.direction,\n      onOpenChange = props.onOpenChange,\n      _onMouseDown = props.onMouseDown,\n      required = props.required,\n      ariaRequired = props['aria-required'],\n      autoFocus = props.autoFocus,\n      removeIcon = props.removeIcon,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var rtl = direction === 'rtl'; // ======================== Prefix ========================\n\n  var _React$useContext = React.useContext(PickerContext),\n      prefixCls = _React$useContext.prefixCls; // ========================= Refs =========================\n\n\n  var rootRef = React.useRef();\n  var inputRef = React.useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      nativeElement: rootRef.current,\n      focus: function focus(options) {\n        var _inputRef$current;\n\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.focus(options);\n      },\n      blur: function blur() {\n        var _inputRef$current2;\n\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.blur();\n      }\n    };\n  }); // ======================== Props =========================\n\n  var rootProps = useRootProps(restProps); // ======================== Change ========================\n\n  var onSingleChange = function onSingleChange(date) {\n    onChange([date]);\n  };\n\n  var onMultipleRemove = function onMultipleRemove(date) {\n    var nextValues = value.filter(function (oriDate) {\n      return oriDate && !isSame(generateConfig, locale, oriDate, date, internalPicker);\n    });\n    onChange(nextValues); // When `open`, it means user is operating the\n\n    if (!open) {\n      onSubmit();\n    }\n  }; // ======================== Inputs ========================\n\n\n  var _useInputProps = useInputProps(_objectSpread(_objectSpread({}, props), {}, {\n    onChange: onSingleChange\n  }), function (_ref) {\n    var valueTexts = _ref.valueTexts;\n    return {\n      value: valueTexts[0] || '',\n      active: focused\n    };\n  }),\n      _useInputProps2 = _slicedToArray(_useInputProps, 2),\n      getInputProps = _useInputProps2[0],\n      getText = _useInputProps2[1]; // ======================== Clear =========================\n\n\n  var showClear = !!(clearIcon && value.length && !disabled); // ======================= Multiple =======================\n\n  var selectorNode = multiple ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MultipleDates, {\n    prefixCls: prefixCls,\n    value: value,\n    onRemove: onMultipleRemove,\n    formatDate: getText,\n    maxTagCount: maxTagCount,\n    disabled: disabled,\n    removeIcon: removeIcon\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"\".concat(prefixCls, \"-multiple-input\"),\n    value: value.map(getText).join(','),\n    ref: inputRef,\n    readOnly: true,\n    autoFocus: autoFocus\n  }), /*#__PURE__*/React.createElement(Icon, {\n    type: \"suffix\",\n    icon: suffixIcon\n  }), showClear && /*#__PURE__*/React.createElement(ClearIcon, {\n    icon: clearIcon,\n    onClear: onClear\n  })) : /*#__PURE__*/React.createElement(Input, _extends({\n    ref: inputRef\n  }, getInputProps(), {\n    autoFocus: autoFocus,\n    suffixIcon: suffixIcon,\n    clearIcon: showClear && /*#__PURE__*/React.createElement(ClearIcon, {\n      icon: clearIcon,\n      onClear: onClear\n    }),\n    showActiveCls: false\n  })); // ======================== Render ========================\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, rootProps, {\n    className: classNames(prefixCls, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(prefixCls, \"-multiple\"), multiple), \"\".concat(prefixCls, \"-focused\"), focused), \"\".concat(prefixCls, \"-disabled\"), disabled), \"\".concat(prefixCls, \"-invalid\"), invalid), \"\".concat(prefixCls, \"-rtl\"), rtl), className),\n    style: style,\n    ref: rootRef,\n    onClick: onClick // Not lose current input focus\n    ,\n    onMouseDown: function onMouseDown(e) {\n      var _inputRef$current3;\n\n      var target = e.target;\n\n      if (target !== ((_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 ? void 0 : _inputRef$current3.inputElement)) {\n        e.preventDefault();\n      }\n\n      _onMouseDown === null || _onMouseDown === void 0 || _onMouseDown(e);\n    }\n  }), selectorNode);\n}\n\nvar RefSingleSelector = /*#__PURE__*/React.forwardRef(SingleSelector);\n\nif (process.env.NODE_ENV !== 'production') {\n  RefSingleSelector.displayName = 'SingleSelector';\n}\n\nexport default RefSingleSelector;","map":{"version":3,"sources":["D:/WED/SpotifyProject-master/node_modules/rc-picker/es/PickerInput/Selector/SingleSelector/index.js"],"names":["_defineProperty","_extends","_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","classNames","React","isSame","PickerContext","useInputProps","useRootProps","Icon","ClearIcon","Input","MultipleDates","SingleSelector","props","ref","id","open","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","_onMouseDown","onMouseDown","required","ariaRequired","autoFocus","removeIcon","restProps","rtl","_React$useContext","useContext","prefixCls","rootRef","useRef","inputRef","useImperativeHandle","nativeElement","current","focus","options","_inputRef$current","blur","_inputRef$current2","rootProps","onSingleChange","date","onMultipleRemove","nextValues","filter","oriDate","_useInputProps","_ref","valueTexts","active","_useInputProps2","getInputProps","getText","showClear","length","selectorNode","createElement","Fragment","onRemove","formatDate","concat","map","join","readOnly","type","icon","showActiveCls","e","_inputRef$current3","target","inputElement","preventDefault","RefSingleSelector","forwardRef","process","env","NODE_ENV","displayName"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"id\", \"open\", \"clearIcon\", \"suffixIcon\", \"activeHelp\", \"allHelp\", \"focused\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"locale\", \"generateConfig\", \"placeholder\", \"className\", \"style\", \"onClick\", \"onClear\", \"internalPicker\", \"value\", \"onChange\", \"onSubmit\", \"onInputChange\", \"multiple\", \"maxTagCount\", \"format\", \"maskFormat\", \"preserveInvalidOnBlur\", \"onInvalid\", \"disabled\", \"invalid\", \"inputReadOnly\", \"direction\", \"onOpenChange\", \"onMouseDown\", \"required\", \"aria-required\", \"autoFocus\", \"removeIcon\"];\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { isSame } from \"../../../utils/dateUtil\";\nimport PickerContext from \"../../context\";\nimport useInputProps from \"../hooks/useInputProps\";\nimport useRootProps from \"../hooks/useRootProps\";\nimport Icon, { ClearIcon } from \"../Icon\";\nimport Input from \"../Input\";\nimport MultipleDates from \"./MultipleDates\";\nfunction SingleSelector(props, ref) {\n  var id = props.id,\n    open = props.open,\n    clearIcon = props.clearIcon,\n    suffixIcon = props.suffixIcon,\n    activeHelp = props.activeHelp,\n    allHelp = props.allHelp,\n    focused = props.focused,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    onKeyDown = props.onKeyDown,\n    locale = props.locale,\n    generateConfig = props.generateConfig,\n    placeholder = props.placeholder,\n    className = props.className,\n    style = props.style,\n    onClick = props.onClick,\n    onClear = props.onClear,\n    internalPicker = props.internalPicker,\n    value = props.value,\n    onChange = props.onChange,\n    onSubmit = props.onSubmit,\n    onInputChange = props.onInputChange,\n    multiple = props.multiple,\n    maxTagCount = props.maxTagCount,\n    format = props.format,\n    maskFormat = props.maskFormat,\n    preserveInvalidOnBlur = props.preserveInvalidOnBlur,\n    onInvalid = props.onInvalid,\n    disabled = props.disabled,\n    invalid = props.invalid,\n    inputReadOnly = props.inputReadOnly,\n    direction = props.direction,\n    onOpenChange = props.onOpenChange,\n    _onMouseDown = props.onMouseDown,\n    required = props.required,\n    ariaRequired = props['aria-required'],\n    autoFocus = props.autoFocus,\n    removeIcon = props.removeIcon,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var rtl = direction === 'rtl';\n\n  // ======================== Prefix ========================\n  var _React$useContext = React.useContext(PickerContext),\n    prefixCls = _React$useContext.prefixCls;\n\n  // ========================= Refs =========================\n  var rootRef = React.useRef();\n  var inputRef = React.useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      nativeElement: rootRef.current,\n      focus: function focus(options) {\n        var _inputRef$current;\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.focus(options);\n      },\n      blur: function blur() {\n        var _inputRef$current2;\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.blur();\n      }\n    };\n  });\n\n  // ======================== Props =========================\n  var rootProps = useRootProps(restProps);\n\n  // ======================== Change ========================\n  var onSingleChange = function onSingleChange(date) {\n    onChange([date]);\n  };\n  var onMultipleRemove = function onMultipleRemove(date) {\n    var nextValues = value.filter(function (oriDate) {\n      return oriDate && !isSame(generateConfig, locale, oriDate, date, internalPicker);\n    });\n    onChange(nextValues);\n\n    // When `open`, it means user is operating the\n    if (!open) {\n      onSubmit();\n    }\n  };\n\n  // ======================== Inputs ========================\n  var _useInputProps = useInputProps(_objectSpread(_objectSpread({}, props), {}, {\n      onChange: onSingleChange\n    }), function (_ref) {\n      var valueTexts = _ref.valueTexts;\n      return {\n        value: valueTexts[0] || '',\n        active: focused\n      };\n    }),\n    _useInputProps2 = _slicedToArray(_useInputProps, 2),\n    getInputProps = _useInputProps2[0],\n    getText = _useInputProps2[1];\n\n  // ======================== Clear =========================\n  var showClear = !!(clearIcon && value.length && !disabled);\n\n  // ======================= Multiple =======================\n  var selectorNode = multiple ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MultipleDates, {\n    prefixCls: prefixCls,\n    value: value,\n    onRemove: onMultipleRemove,\n    formatDate: getText,\n    maxTagCount: maxTagCount,\n    disabled: disabled,\n    removeIcon: removeIcon\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"\".concat(prefixCls, \"-multiple-input\"),\n    value: value.map(getText).join(','),\n    ref: inputRef,\n    readOnly: true,\n    autoFocus: autoFocus\n  }), /*#__PURE__*/React.createElement(Icon, {\n    type: \"suffix\",\n    icon: suffixIcon\n  }), showClear && /*#__PURE__*/React.createElement(ClearIcon, {\n    icon: clearIcon,\n    onClear: onClear\n  })) : /*#__PURE__*/React.createElement(Input, _extends({\n    ref: inputRef\n  }, getInputProps(), {\n    autoFocus: autoFocus,\n    suffixIcon: suffixIcon,\n    clearIcon: showClear && /*#__PURE__*/React.createElement(ClearIcon, {\n      icon: clearIcon,\n      onClear: onClear\n    }),\n    showActiveCls: false\n  }));\n\n  // ======================== Render ========================\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, rootProps, {\n    className: classNames(prefixCls, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(prefixCls, \"-multiple\"), multiple), \"\".concat(prefixCls, \"-focused\"), focused), \"\".concat(prefixCls, \"-disabled\"), disabled), \"\".concat(prefixCls, \"-invalid\"), invalid), \"\".concat(prefixCls, \"-rtl\"), rtl), className),\n    style: style,\n    ref: rootRef,\n    onClick: onClick\n    // Not lose current input focus\n    ,\n    onMouseDown: function onMouseDown(e) {\n      var _inputRef$current3;\n      var target = e.target;\n      if (target !== ((_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 ? void 0 : _inputRef$current3.inputElement)) {\n        e.preventDefault();\n      }\n      _onMouseDown === null || _onMouseDown === void 0 || _onMouseDown(e);\n    }\n  }), selectorNode);\n}\nvar RefSingleSelector = /*#__PURE__*/React.forwardRef(SingleSelector);\nif (process.env.NODE_ENV !== 'production') {\n  RefSingleSelector.displayName = 'SingleSelector';\n}\nexport default RefSingleSelector;"]},"metadata":{},"sourceType":"module"}