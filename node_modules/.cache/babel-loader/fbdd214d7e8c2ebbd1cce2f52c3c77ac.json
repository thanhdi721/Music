{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint-disable react/no-unknown-property */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMobile from \"rc-util/es/hooks/useMobile\";\nimport raf from \"rc-util/es/raf\";\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\n\nvar STEP_INTERVAL = 200;\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\n\nvar STEP_DELAY = 600;\nexport default function StepHandler(_ref) {\n  var prefixCls = _ref.prefixCls,\n      upNode = _ref.upNode,\n      downNode = _ref.downNode,\n      upDisabled = _ref.upDisabled,\n      downDisabled = _ref.downDisabled,\n      onStep = _ref.onStep; // ======================== Step ========================\n\n  var stepTimeoutRef = React.useRef();\n  var frameIds = React.useRef([]);\n  var onStepRef = React.useRef();\n  onStepRef.current = onStep;\n\n  var onStopStep = function onStopStep() {\n    clearTimeout(stepTimeoutRef.current);\n  }; // We will interval update step when hold mouse down\n\n\n  var onStepMouseDown = function onStepMouseDown(e, up) {\n    e.preventDefault();\n    onStopStep();\n    onStepRef.current(up); // Loop step for interval\n\n    function loopStep() {\n      onStepRef.current(up);\n      stepTimeoutRef.current = setTimeout(loopStep, STEP_INTERVAL);\n    } // First time press will wait some time to trigger loop step update\n\n\n    stepTimeoutRef.current = setTimeout(loopStep, STEP_DELAY);\n  };\n\n  React.useEffect(function () {\n    return function () {\n      onStopStep();\n      frameIds.current.forEach(function (id) {\n        return raf.cancel(id);\n      });\n    };\n  }, []); // ======================= Render =======================\n\n  var isMobile = useMobile();\n\n  if (isMobile) {\n    return null;\n  }\n\n  var handlerClassName = \"\".concat(prefixCls, \"-handler\");\n  var upClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-up\"), _defineProperty({}, \"\".concat(handlerClassName, \"-up-disabled\"), upDisabled));\n  var downClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-down\"), _defineProperty({}, \"\".concat(handlerClassName, \"-down-disabled\"), downDisabled)); // fix: https://github.com/ant-design/ant-design/issues/43088\n  // In Safari, When we fire onmousedown and onmouseup events in quick succession, \n  // there may be a problem that the onmouseup events are executed first, \n  // resulting in a disordered program execution.\n  // So, we need to use requestAnimationFrame to ensure that the onmouseup event is executed after the onmousedown event.\n\n  var safeOnStopStep = function safeOnStopStep() {\n    return frameIds.current.push(raf(onStopStep));\n  };\n\n  var sharedHandlerProps = {\n    unselectable: 'on',\n    role: 'button',\n    onMouseUp: safeOnStopStep,\n    onMouseLeave: safeOnStopStep\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(handlerClassName, \"-wrap\")\n  }, /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, true);\n    },\n    \"aria-label\": \"Increase Value\",\n    \"aria-disabled\": upDisabled,\n    className: upClassName\n  }), upNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-up-inner\")\n  })), /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, false);\n    },\n    \"aria-label\": \"Decrease Value\",\n    \"aria-disabled\": downDisabled,\n    className: downClassName\n  }), downNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-down-inner\")\n  })));\n}","map":{"version":3,"sources":["C:/Users/ASUS/Documents/Music/node_modules/rc-input-number/es/StepHandler.js"],"names":["_extends","_defineProperty","React","classNames","useMobile","raf","STEP_INTERVAL","STEP_DELAY","StepHandler","_ref","prefixCls","upNode","downNode","upDisabled","downDisabled","onStep","stepTimeoutRef","useRef","frameIds","onStepRef","current","onStopStep","clearTimeout","onStepMouseDown","e","up","preventDefault","loopStep","setTimeout","useEffect","forEach","id","cancel","isMobile","handlerClassName","concat","upClassName","downClassName","safeOnStopStep","push","sharedHandlerProps","unselectable","role","onMouseUp","onMouseLeave","createElement","className","onMouseDown"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint-disable react/no-unknown-property */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMobile from \"rc-util/es/hooks/useMobile\";\nimport raf from \"rc-util/es/raf\";\n\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\nvar STEP_INTERVAL = 200;\n\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\nvar STEP_DELAY = 600;\nexport default function StepHandler(_ref) {\n  var prefixCls = _ref.prefixCls,\n    upNode = _ref.upNode,\n    downNode = _ref.downNode,\n    upDisabled = _ref.upDisabled,\n    downDisabled = _ref.downDisabled,\n    onStep = _ref.onStep;\n  // ======================== Step ========================\n  var stepTimeoutRef = React.useRef();\n  var frameIds = React.useRef([]);\n  var onStepRef = React.useRef();\n  onStepRef.current = onStep;\n  var onStopStep = function onStopStep() {\n    clearTimeout(stepTimeoutRef.current);\n  };\n\n  // We will interval update step when hold mouse down\n  var onStepMouseDown = function onStepMouseDown(e, up) {\n    e.preventDefault();\n    onStopStep();\n    onStepRef.current(up);\n\n    // Loop step for interval\n    function loopStep() {\n      onStepRef.current(up);\n      stepTimeoutRef.current = setTimeout(loopStep, STEP_INTERVAL);\n    }\n\n    // First time press will wait some time to trigger loop step update\n    stepTimeoutRef.current = setTimeout(loopStep, STEP_DELAY);\n  };\n  React.useEffect(function () {\n    return function () {\n      onStopStep();\n      frameIds.current.forEach(function (id) {\n        return raf.cancel(id);\n      });\n    };\n  }, []);\n\n  // ======================= Render =======================\n  var isMobile = useMobile();\n  if (isMobile) {\n    return null;\n  }\n  var handlerClassName = \"\".concat(prefixCls, \"-handler\");\n  var upClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-up\"), _defineProperty({}, \"\".concat(handlerClassName, \"-up-disabled\"), upDisabled));\n  var downClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-down\"), _defineProperty({}, \"\".concat(handlerClassName, \"-down-disabled\"), downDisabled));\n\n  // fix: https://github.com/ant-design/ant-design/issues/43088\n  // In Safari, When we fire onmousedown and onmouseup events in quick succession, \n  // there may be a problem that the onmouseup events are executed first, \n  // resulting in a disordered program execution.\n  // So, we need to use requestAnimationFrame to ensure that the onmouseup event is executed after the onmousedown event.\n  var safeOnStopStep = function safeOnStopStep() {\n    return frameIds.current.push(raf(onStopStep));\n  };\n  var sharedHandlerProps = {\n    unselectable: 'on',\n    role: 'button',\n    onMouseUp: safeOnStopStep,\n    onMouseLeave: safeOnStopStep\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(handlerClassName, \"-wrap\")\n  }, /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, true);\n    },\n    \"aria-label\": \"Increase Value\",\n    \"aria-disabled\": upDisabled,\n    className: upClassName\n  }), upNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-up-inner\")\n  })), /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, false);\n    },\n    \"aria-label\": \"Decrease Value\",\n    \"aria-disabled\": downDisabled,\n    className: downClassName\n  }), downNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-down-inner\")\n  })));\n}"]},"metadata":{},"sourceType":"module"}