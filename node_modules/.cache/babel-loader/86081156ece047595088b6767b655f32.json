{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { removeCSS, updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport { useContext } from 'react';\nimport StyleContext, { ATTR_MARK, ATTR_TOKEN, CSS_IN_JS_INSTANCE } from \"../StyleContext\";\nimport { isClientSide, toStyleStr } from \"../util\";\nimport { transformToken } from \"../util/css-variables\";\nimport useGlobalCache from \"./useGlobalCache\";\nimport { uniqueHash } from \"./useStyleRegister\";\nexport var CSS_VAR_PREFIX = 'cssVar';\n\nvar useCSSVarRegister = function useCSSVarRegister(config, fn) {\n  var key = config.key,\n      prefix = config.prefix,\n      unitless = config.unitless,\n      ignore = config.ignore,\n      token = config.token,\n      _config$scope = config.scope,\n      scope = _config$scope === void 0 ? '' : _config$scope;\n\n  var _useContext = useContext(StyleContext),\n      instanceId = _useContext.cache.instanceId,\n      container = _useContext.container;\n\n  var tokenKey = token._tokenKey;\n  var stylePath = [].concat(_toConsumableArray(config.path), [key, scope, tokenKey]);\n  var cache = useGlobalCache(CSS_VAR_PREFIX, stylePath, function () {\n    var originToken = fn();\n\n    var _transformToken = transformToken(originToken, key, {\n      prefix: prefix,\n      unitless: unitless,\n      ignore: ignore,\n      scope: scope\n    }),\n        _transformToken2 = _slicedToArray(_transformToken, 2),\n        mergedToken = _transformToken2[0],\n        cssVarsStr = _transformToken2[1];\n\n    var styleId = uniqueHash(stylePath, cssVarsStr);\n    return [mergedToken, cssVarsStr, styleId, key];\n  }, function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        styleId = _ref2[2];\n\n    if (isClientSide) {\n      removeCSS(styleId, {\n        mark: ATTR_MARK\n      });\n    }\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 3),\n        cssVarsStr = _ref4[1],\n        styleId = _ref4[2];\n\n    if (!cssVarsStr) {\n      return;\n    }\n\n    var style = updateCSS(cssVarsStr, styleId, {\n      mark: ATTR_MARK,\n      prepend: 'queue',\n      attachTo: container,\n      priority: -999\n    });\n    style[CSS_IN_JS_INSTANCE] = instanceId; // Used for `useCacheToken` to remove on batch when token removed\n\n    style.setAttribute(ATTR_TOKEN, key);\n  });\n  return cache;\n};\n\nexport var extract = function extract(cache, effectStyles, options) {\n  var _cache = _slicedToArray(cache, 4),\n      styleStr = _cache[1],\n      styleId = _cache[2],\n      cssVarKey = _cache[3];\n\n  var _ref5 = options || {},\n      plain = _ref5.plain;\n\n  if (!styleStr) {\n    return null;\n  }\n\n  var order = -999; // ====================== Style ======================\n  // Used for rc-util\n\n  var sharedAttrs = {\n    'data-rc-order': 'prependQueue',\n    'data-rc-priority': \"\".concat(order)\n  };\n  var styleText = toStyleStr(styleStr, cssVarKey, styleId, sharedAttrs, plain);\n  return [order, styleId, styleText];\n};\nexport default useCSSVarRegister;","map":{"version":3,"sources":["C:/Users/ASUS/Documents/Music/node_modules/@ant-design/cssinjs/es/hooks/useCSSVarRegister.js"],"names":["_slicedToArray","_toConsumableArray","removeCSS","updateCSS","useContext","StyleContext","ATTR_MARK","ATTR_TOKEN","CSS_IN_JS_INSTANCE","isClientSide","toStyleStr","transformToken","useGlobalCache","uniqueHash","CSS_VAR_PREFIX","useCSSVarRegister","config","fn","key","prefix","unitless","ignore","token","_config$scope","scope","_useContext","instanceId","cache","container","tokenKey","_tokenKey","stylePath","concat","path","originToken","_transformToken","_transformToken2","mergedToken","cssVarsStr","styleId","_ref","_ref2","mark","_ref3","_ref4","style","prepend","attachTo","priority","setAttribute","extract","effectStyles","options","_cache","styleStr","cssVarKey","_ref5","plain","order","sharedAttrs","styleText"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { removeCSS, updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport { useContext } from 'react';\nimport StyleContext, { ATTR_MARK, ATTR_TOKEN, CSS_IN_JS_INSTANCE } from \"../StyleContext\";\nimport { isClientSide, toStyleStr } from \"../util\";\nimport { transformToken } from \"../util/css-variables\";\nimport useGlobalCache from \"./useGlobalCache\";\nimport { uniqueHash } from \"./useStyleRegister\";\nexport var CSS_VAR_PREFIX = 'cssVar';\nvar useCSSVarRegister = function useCSSVarRegister(config, fn) {\n  var key = config.key,\n    prefix = config.prefix,\n    unitless = config.unitless,\n    ignore = config.ignore,\n    token = config.token,\n    _config$scope = config.scope,\n    scope = _config$scope === void 0 ? '' : _config$scope;\n  var _useContext = useContext(StyleContext),\n    instanceId = _useContext.cache.instanceId,\n    container = _useContext.container;\n  var tokenKey = token._tokenKey;\n  var stylePath = [].concat(_toConsumableArray(config.path), [key, scope, tokenKey]);\n  var cache = useGlobalCache(CSS_VAR_PREFIX, stylePath, function () {\n    var originToken = fn();\n    var _transformToken = transformToken(originToken, key, {\n        prefix: prefix,\n        unitless: unitless,\n        ignore: ignore,\n        scope: scope\n      }),\n      _transformToken2 = _slicedToArray(_transformToken, 2),\n      mergedToken = _transformToken2[0],\n      cssVarsStr = _transformToken2[1];\n    var styleId = uniqueHash(stylePath, cssVarsStr);\n    return [mergedToken, cssVarsStr, styleId, key];\n  }, function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n      styleId = _ref2[2];\n    if (isClientSide) {\n      removeCSS(styleId, {\n        mark: ATTR_MARK\n      });\n    }\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 3),\n      cssVarsStr = _ref4[1],\n      styleId = _ref4[2];\n    if (!cssVarsStr) {\n      return;\n    }\n    var style = updateCSS(cssVarsStr, styleId, {\n      mark: ATTR_MARK,\n      prepend: 'queue',\n      attachTo: container,\n      priority: -999\n    });\n    style[CSS_IN_JS_INSTANCE] = instanceId;\n\n    // Used for `useCacheToken` to remove on batch when token removed\n    style.setAttribute(ATTR_TOKEN, key);\n  });\n  return cache;\n};\nexport var extract = function extract(cache, effectStyles, options) {\n  var _cache = _slicedToArray(cache, 4),\n    styleStr = _cache[1],\n    styleId = _cache[2],\n    cssVarKey = _cache[3];\n  var _ref5 = options || {},\n    plain = _ref5.plain;\n  if (!styleStr) {\n    return null;\n  }\n  var order = -999;\n\n  // ====================== Style ======================\n  // Used for rc-util\n  var sharedAttrs = {\n    'data-rc-order': 'prependQueue',\n    'data-rc-priority': \"\".concat(order)\n  };\n  var styleText = toStyleStr(styleStr, cssVarKey, styleId, sharedAttrs, plain);\n  return [order, styleId, styleText];\n};\nexport default useCSSVarRegister;"]},"metadata":{},"sourceType":"module"}