{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _ExtractStyleFns;\n\nimport { extract as tokenExtractStyle, TOKEN_PREFIX } from \"./hooks/useCacheToken\";\nimport { CSS_VAR_PREFIX, extract as cssVarExtractStyle } from \"./hooks/useCSSVarRegister\";\nimport { extract as styleExtractStyle, STYLE_PREFIX } from \"./hooks/useStyleRegister\";\nimport { toStyleStr } from \"./util\";\nimport { ATTR_CACHE_MAP, serialize as serializeCacheMap } from \"./util/cacheMapUtil\";\nvar ExtractStyleFns = (_ExtractStyleFns = {}, _defineProperty(_ExtractStyleFns, STYLE_PREFIX, styleExtractStyle), _defineProperty(_ExtractStyleFns, TOKEN_PREFIX, tokenExtractStyle), _defineProperty(_ExtractStyleFns, CSS_VAR_PREFIX, cssVarExtractStyle), _ExtractStyleFns);\n\nfunction isNotNull(value) {\n  return value !== null;\n}\n\nexport default function extractStyle(cache, options) {\n  var _ref = typeof options === 'boolean' ? {\n    plain: options\n  } : options || {},\n      _ref$plain = _ref.plain,\n      plain = _ref$plain === void 0 ? false : _ref$plain,\n      _ref$types = _ref.types,\n      types = _ref$types === void 0 ? ['style', 'token', 'cssVar'] : _ref$types;\n\n  var matchPrefixRegexp = new RegExp(\"^(\".concat((typeof types === 'string' ? [types] : types).join('|'), \")%\")); // prefix with `style` is used for `useStyleRegister` to cache style context\n\n  var styleKeys = Array.from(cache.cache.keys()).filter(function (key) {\n    return matchPrefixRegexp.test(key);\n  }); // Common effect styles like animation\n\n  var effectStyles = {}; // Mapping of cachePath to style hash\n\n  var cachePathMap = {};\n  var styleText = '';\n  styleKeys.map(function (key) {\n    var cachePath = key.replace(matchPrefixRegexp, '').replace(/%/g, '|');\n\n    var _key$split = key.split('%'),\n        _key$split2 = _slicedToArray(_key$split, 1),\n        prefix = _key$split2[0];\n\n    var extractFn = ExtractStyleFns[prefix];\n    var extractedStyle = extractFn(cache.cache.get(key)[1], effectStyles, {\n      plain: plain\n    });\n\n    if (!extractedStyle) {\n      return null;\n    }\n\n    var _extractedStyle = _slicedToArray(extractedStyle, 3),\n        order = _extractedStyle[0],\n        styleId = _extractedStyle[1],\n        styleStr = _extractedStyle[2];\n\n    if (key.startsWith('style')) {\n      cachePathMap[cachePath] = styleId;\n    }\n\n    return [order, styleStr];\n  }).filter(isNotNull).sort(function (_ref2, _ref3) {\n    var _ref4 = _slicedToArray(_ref2, 1),\n        o1 = _ref4[0];\n\n    var _ref5 = _slicedToArray(_ref3, 1),\n        o2 = _ref5[0];\n\n    return o1 - o2;\n  }).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        style = _ref7[1];\n\n    styleText += style;\n  }); // ==================== Fill Cache Path ====================\n\n  styleText += toStyleStr(\".\".concat(ATTR_CACHE_MAP, \"{content:\\\"\").concat(serializeCacheMap(cachePathMap), \"\\\";}\"), undefined, undefined, _defineProperty({}, ATTR_CACHE_MAP, ATTR_CACHE_MAP), plain);\n  return styleText;\n}","map":{"version":3,"sources":["C:/Users/ASUS/Documents/Music/node_modules/@ant-design/cssinjs/es/extractStyle.js"],"names":["_slicedToArray","_defineProperty","_ExtractStyleFns","extract","tokenExtractStyle","TOKEN_PREFIX","CSS_VAR_PREFIX","cssVarExtractStyle","styleExtractStyle","STYLE_PREFIX","toStyleStr","ATTR_CACHE_MAP","serialize","serializeCacheMap","ExtractStyleFns","isNotNull","value","extractStyle","cache","options","_ref","plain","_ref$plain","_ref$types","types","matchPrefixRegexp","RegExp","concat","join","styleKeys","Array","from","keys","filter","key","test","effectStyles","cachePathMap","styleText","map","cachePath","replace","_key$split","split","_key$split2","prefix","extractFn","extractedStyle","get","_extractedStyle","order","styleId","styleStr","startsWith","sort","_ref2","_ref3","_ref4","o1","_ref5","o2","forEach","_ref6","_ref7","style","undefined"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _ExtractStyleFns;\nimport { extract as tokenExtractStyle, TOKEN_PREFIX } from \"./hooks/useCacheToken\";\nimport { CSS_VAR_PREFIX, extract as cssVarExtractStyle } from \"./hooks/useCSSVarRegister\";\nimport { extract as styleExtractStyle, STYLE_PREFIX } from \"./hooks/useStyleRegister\";\nimport { toStyleStr } from \"./util\";\nimport { ATTR_CACHE_MAP, serialize as serializeCacheMap } from \"./util/cacheMapUtil\";\nvar ExtractStyleFns = (_ExtractStyleFns = {}, _defineProperty(_ExtractStyleFns, STYLE_PREFIX, styleExtractStyle), _defineProperty(_ExtractStyleFns, TOKEN_PREFIX, tokenExtractStyle), _defineProperty(_ExtractStyleFns, CSS_VAR_PREFIX, cssVarExtractStyle), _ExtractStyleFns);\nfunction isNotNull(value) {\n  return value !== null;\n}\nexport default function extractStyle(cache, options) {\n  var _ref = typeof options === 'boolean' ? {\n      plain: options\n    } : options || {},\n    _ref$plain = _ref.plain,\n    plain = _ref$plain === void 0 ? false : _ref$plain,\n    _ref$types = _ref.types,\n    types = _ref$types === void 0 ? ['style', 'token', 'cssVar'] : _ref$types;\n  var matchPrefixRegexp = new RegExp(\"^(\".concat((typeof types === 'string' ? [types] : types).join('|'), \")%\"));\n\n  // prefix with `style` is used for `useStyleRegister` to cache style context\n  var styleKeys = Array.from(cache.cache.keys()).filter(function (key) {\n    return matchPrefixRegexp.test(key);\n  });\n\n  // Common effect styles like animation\n  var effectStyles = {};\n\n  // Mapping of cachePath to style hash\n  var cachePathMap = {};\n  var styleText = '';\n  styleKeys.map(function (key) {\n    var cachePath = key.replace(matchPrefixRegexp, '').replace(/%/g, '|');\n    var _key$split = key.split('%'),\n      _key$split2 = _slicedToArray(_key$split, 1),\n      prefix = _key$split2[0];\n    var extractFn = ExtractStyleFns[prefix];\n    var extractedStyle = extractFn(cache.cache.get(key)[1], effectStyles, {\n      plain: plain\n    });\n    if (!extractedStyle) {\n      return null;\n    }\n    var _extractedStyle = _slicedToArray(extractedStyle, 3),\n      order = _extractedStyle[0],\n      styleId = _extractedStyle[1],\n      styleStr = _extractedStyle[2];\n    if (key.startsWith('style')) {\n      cachePathMap[cachePath] = styleId;\n    }\n    return [order, styleStr];\n  }).filter(isNotNull).sort(function (_ref2, _ref3) {\n    var _ref4 = _slicedToArray(_ref2, 1),\n      o1 = _ref4[0];\n    var _ref5 = _slicedToArray(_ref3, 1),\n      o2 = _ref5[0];\n    return o1 - o2;\n  }).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n      style = _ref7[1];\n    styleText += style;\n  });\n\n  // ==================== Fill Cache Path ====================\n  styleText += toStyleStr(\".\".concat(ATTR_CACHE_MAP, \"{content:\\\"\").concat(serializeCacheMap(cachePathMap), \"\\\";}\"), undefined, undefined, _defineProperty({}, ATTR_CACHE_MAP, ATTR_CACHE_MAP), plain);\n  return styleText;\n}"]},"metadata":{},"sourceType":"module"}