{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport Portal from '@rc-component/portal';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport { RefContext } from \"./context\";\nimport DrawerPopup from \"./DrawerPopup\";\nimport { warnCheck } from \"./util\";\n\nvar Drawer = function Drawer(props) {\n  var _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-drawer' : _props$prefixCls,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'right' : _props$placement,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,\n      _props$keyboard = props.keyboard,\n      keyboard = _props$keyboard === void 0 ? true : _props$keyboard,\n      _props$width = props.width,\n      width = _props$width === void 0 ? 378 : _props$width,\n      _props$mask = props.mask,\n      mask = _props$mask === void 0 ? true : _props$mask,\n      _props$maskClosable = props.maskClosable,\n      maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n      getContainer = props.getContainer,\n      forceRender = props.forceRender,\n      afterOpenChange = props.afterOpenChange,\n      destroyOnClose = props.destroyOnClose,\n      onMouseEnter = props.onMouseEnter,\n      onMouseOver = props.onMouseOver,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      panelRef = props.panelRef;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      animatedVisible = _React$useState2[0],\n      setAnimatedVisible = _React$useState2[1]; // ============================= Warn =============================\n\n\n  if (process.env.NODE_ENV !== 'production') {\n    warnCheck(props);\n  } // ============================= Open =============================\n\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      mounted = _React$useState4[0],\n      setMounted = _React$useState4[1];\n\n  useLayoutEffect(function () {\n    setMounted(true);\n  }, []);\n  var mergedOpen = mounted ? open : false; // ============================ Focus =============================\n\n  var popupRef = React.useRef();\n  var lastActiveRef = React.useRef();\n  useLayoutEffect(function () {\n    if (mergedOpen) {\n      lastActiveRef.current = document.activeElement;\n    }\n  }, [mergedOpen]); // ============================= Open =============================\n\n  var internalAfterOpenChange = function internalAfterOpenChange(nextVisible) {\n    var _popupRef$current;\n\n    setAnimatedVisible(nextVisible);\n    afterOpenChange === null || afterOpenChange === void 0 || afterOpenChange(nextVisible);\n\n    if (!nextVisible && lastActiveRef.current && !((_popupRef$current = popupRef.current) !== null && _popupRef$current !== void 0 && _popupRef$current.contains(lastActiveRef.current))) {\n      var _lastActiveRef$curren;\n\n      (_lastActiveRef$curren = lastActiveRef.current) === null || _lastActiveRef$curren === void 0 || _lastActiveRef$curren.focus({\n        preventScroll: true\n      });\n    }\n  }; // =========================== Context ============================\n\n\n  var refContext = React.useMemo(function () {\n    return {\n      panel: panelRef\n    };\n  }, [panelRef]); // ============================ Render ============================\n\n  if (!forceRender && !animatedVisible && !mergedOpen && destroyOnClose) {\n    return null;\n  }\n\n  var eventHandlers = {\n    onMouseEnter: onMouseEnter,\n    onMouseOver: onMouseOver,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp\n  };\n\n  var drawerPopupProps = _objectSpread(_objectSpread({}, props), {}, {\n    open: mergedOpen,\n    prefixCls: prefixCls,\n    placement: placement,\n    autoFocus: autoFocus,\n    keyboard: keyboard,\n    width: width,\n    mask: mask,\n    maskClosable: maskClosable,\n    inline: getContainer === false,\n    afterOpenChange: internalAfterOpenChange,\n    ref: popupRef\n  }, eventHandlers);\n\n  return /*#__PURE__*/React.createElement(RefContext.Provider, {\n    value: refContext\n  }, /*#__PURE__*/React.createElement(Portal, {\n    open: mergedOpen || forceRender || animatedVisible,\n    autoDestroy: false,\n    getContainer: getContainer,\n    autoLock: mask && (mergedOpen || animatedVisible)\n  }, /*#__PURE__*/React.createElement(DrawerPopup, drawerPopupProps)));\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  Drawer.displayName = 'Drawer';\n}\n\nexport default Drawer;","map":{"version":3,"sources":["C:/Users/ASUS/Documents/Music/node_modules/rc-drawer/es/Drawer.js"],"names":["_objectSpread","_slicedToArray","Portal","useLayoutEffect","React","RefContext","DrawerPopup","warnCheck","Drawer","props","_props$open","open","_props$prefixCls","prefixCls","_props$placement","placement","_props$autoFocus","autoFocus","_props$keyboard","keyboard","_props$width","width","_props$mask","mask","_props$maskClosable","maskClosable","getContainer","forceRender","afterOpenChange","destroyOnClose","onMouseEnter","onMouseOver","onMouseLeave","onClick","onKeyDown","onKeyUp","panelRef","_React$useState","useState","_React$useState2","animatedVisible","setAnimatedVisible","process","env","NODE_ENV","_React$useState3","_React$useState4","mounted","setMounted","mergedOpen","popupRef","useRef","lastActiveRef","current","document","activeElement","internalAfterOpenChange","nextVisible","_popupRef$current","contains","_lastActiveRef$curren","focus","preventScroll","refContext","useMemo","panel","eventHandlers","drawerPopupProps","inline","ref","createElement","Provider","value","autoDestroy","autoLock","displayName"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport Portal from '@rc-component/portal';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport { RefContext } from \"./context\";\nimport DrawerPopup from \"./DrawerPopup\";\nimport { warnCheck } from \"./util\";\nvar Drawer = function Drawer(props) {\n  var _props$open = props.open,\n    open = _props$open === void 0 ? false : _props$open,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-drawer' : _props$prefixCls,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'right' : _props$placement,\n    _props$autoFocus = props.autoFocus,\n    autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,\n    _props$keyboard = props.keyboard,\n    keyboard = _props$keyboard === void 0 ? true : _props$keyboard,\n    _props$width = props.width,\n    width = _props$width === void 0 ? 378 : _props$width,\n    _props$mask = props.mask,\n    mask = _props$mask === void 0 ? true : _props$mask,\n    _props$maskClosable = props.maskClosable,\n    maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n    getContainer = props.getContainer,\n    forceRender = props.forceRender,\n    afterOpenChange = props.afterOpenChange,\n    destroyOnClose = props.destroyOnClose,\n    onMouseEnter = props.onMouseEnter,\n    onMouseOver = props.onMouseOver,\n    onMouseLeave = props.onMouseLeave,\n    onClick = props.onClick,\n    onKeyDown = props.onKeyDown,\n    onKeyUp = props.onKeyUp,\n    panelRef = props.panelRef;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    animatedVisible = _React$useState2[0],\n    setAnimatedVisible = _React$useState2[1];\n\n  // ============================= Warn =============================\n  if (process.env.NODE_ENV !== 'production') {\n    warnCheck(props);\n  }\n\n  // ============================= Open =============================\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    mounted = _React$useState4[0],\n    setMounted = _React$useState4[1];\n  useLayoutEffect(function () {\n    setMounted(true);\n  }, []);\n  var mergedOpen = mounted ? open : false;\n\n  // ============================ Focus =============================\n  var popupRef = React.useRef();\n  var lastActiveRef = React.useRef();\n  useLayoutEffect(function () {\n    if (mergedOpen) {\n      lastActiveRef.current = document.activeElement;\n    }\n  }, [mergedOpen]);\n\n  // ============================= Open =============================\n  var internalAfterOpenChange = function internalAfterOpenChange(nextVisible) {\n    var _popupRef$current;\n    setAnimatedVisible(nextVisible);\n    afterOpenChange === null || afterOpenChange === void 0 || afterOpenChange(nextVisible);\n    if (!nextVisible && lastActiveRef.current && !((_popupRef$current = popupRef.current) !== null && _popupRef$current !== void 0 && _popupRef$current.contains(lastActiveRef.current))) {\n      var _lastActiveRef$curren;\n      (_lastActiveRef$curren = lastActiveRef.current) === null || _lastActiveRef$curren === void 0 || _lastActiveRef$curren.focus({\n        preventScroll: true\n      });\n    }\n  };\n\n  // =========================== Context ============================\n  var refContext = React.useMemo(function () {\n    return {\n      panel: panelRef\n    };\n  }, [panelRef]);\n\n  // ============================ Render ============================\n  if (!forceRender && !animatedVisible && !mergedOpen && destroyOnClose) {\n    return null;\n  }\n  var eventHandlers = {\n    onMouseEnter: onMouseEnter,\n    onMouseOver: onMouseOver,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp\n  };\n  var drawerPopupProps = _objectSpread(_objectSpread({}, props), {}, {\n    open: mergedOpen,\n    prefixCls: prefixCls,\n    placement: placement,\n    autoFocus: autoFocus,\n    keyboard: keyboard,\n    width: width,\n    mask: mask,\n    maskClosable: maskClosable,\n    inline: getContainer === false,\n    afterOpenChange: internalAfterOpenChange,\n    ref: popupRef\n  }, eventHandlers);\n  return /*#__PURE__*/React.createElement(RefContext.Provider, {\n    value: refContext\n  }, /*#__PURE__*/React.createElement(Portal, {\n    open: mergedOpen || forceRender || animatedVisible,\n    autoDestroy: false,\n    getContainer: getContainer,\n    autoLock: mask && (mergedOpen || animatedVisible)\n  }, /*#__PURE__*/React.createElement(DrawerPopup, drawerPopupProps)));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Drawer.displayName = 'Drawer';\n}\nexport default Drawer;"]},"metadata":{},"sourceType":"module"}